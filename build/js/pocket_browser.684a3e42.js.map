{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/x-utils-es/umd/index.js","webpack:///./libs/dispatcher.js","webpack:///./node_modules/simple-q/index.js","webpack:///./Pocket/versions/Pocket.browser.js","webpack:///./Pocket/Pocket.module.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/simple-q/simple-q.js","webpack:///./Pocket/Pocket.libs.js","webpack:///./Pocket/Probe.js","webpack:///./Pocket/Probe.dataBank.js","webpack:///./Pocket/Pocket.architect.js","webpack:///./Pocket/Pocket.selectors.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","_Numberprototype","Number","_Stringprototype","String","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","disableLogging","window","xUtilsConfig","logging","err","global","resetLogging","loggerSetting","logType","logMode","includes","checkLoggerSetting","loggingON","logConstract","type","args","length","format","filter","concat","console","log","apply","_len","arguments","Array","_key","alert","_len4","_key4","_len6","_key6","allData","onerror","stack","data","asArray","stackList","Error","JSON","stringify","split","splice","stackHead","replace","unshift","errorTrace","errHead","isArray","loop","size","cb","inx","this","entries","break","push","arr","__proto__","typeCheck","el","standard","ofType","asPrototype","Type","primitiveValue","Boolean","BigInt","Date","Function","keys","isNaN","isError","isQPromise","isFalse","isTrue","isBoolean","isNull","isUndefined","isEmpty","head","flat","shift","last","timer","time","setTimeout","clearTimeout","interval","every","endTime","counter","setInterval","clearInterval","sq","res","rej","promise","validID","id","toString","toLowerCase","isNumber","stringSize","str","defer","isPromise","isObject","cancelPromise","_ref","checkEvery","maxWait","cbErr","message","exit_interval","catch","obj","uniq","all","indexOf","isClass","shuffle","_Mathfloor","Math","floor","j","random","k","selectiveArray","selectBy","item","nData","findNest","found","sArr","collective","isInstance","hasPrototype","hasProto","isFalsy","objectSize","copy","isString","isFunction","copyBy","refs","reduce","parse","copyDeep","map","_ref2","val","assign","delay","someKeyMatch","source","a","b","z","zz","exactKeyMatch","trueVal","itm","trueValDeep","typeIs","child","_ref3","v","trueProp","_ref4","resolver","fn","timeout","testEvery","max","called","self","_asyncToGenerator","anon","test","flatten","flattenDeep","acc","slice","chunks","from","ceil","dupes","index","dups","parseInt","uniqBy","propName","stored","debug","_len2","_key2","warn","_len3","_key3","attention","_len5","_key5","validDate","dt","notify","logData","_uid","_debug","uid","plugin","getTime","cbQueue","dispatchInstance","initListener","Dispatch","next","isActive","del","subscribe","Pocket","require","PocketModule","PocketLibs","newProbe","Probe","PocketModuleExt","opts","projectID","lastProjectID","deletePocketSet","async","returnAs","asAsync","undefined","payload","$payload","payloadID","allowsMultiple","disableWarnings","_payloadID","projectsCache","_ready_method_set","$projectSetAsync","ready","deleteWithDelay","dispatcher","probe","status","isUpdated","validProjectID","payloadData","_lastProjectID","initialProject","_lastFilterList","values","idRegexValid","probeID","pocket","timestamp","task","lastPocketTimestamp","distributor","setDefer","projectSetDispatcher","_projectSetAsync","lastProbeID","getStatusAsync","dataFrom","mergeData","_setUpdate","tasks","_ready","updated","pos","probeProps","clearStoreTransfers","$transfer_lastID","_$cached_data","msg","pocketSet","output","pock","prop","userOutput","pl","setProbe","emitter","_emit","withDataBank","onChange","_onChange","completeOnNull","poc","_projectSetDispatcher","architectConfig","PocketArchitect","g","e","promises","__deferSet","_lastProbeID","_projectSet","_transferCached","cleared","forEach","element","fromProbeID","fromAverageTimeHasPast","sort","transferCachedCopy","coundCache","currentOffset","taskOrProbeID","updateLastProbeID","dynamicProbeID","newProbeID","validProbe","selectedData","dataProp","probeData","RegExp","ProbeDataBank","props","_id","_error","_task","_status","_data","_campaign","_dataIndex","_statusIndex","_statusAsync","_sealed","_onchangeDispatch","ref","campaign","_completeAsync","merge","dataBank","watch","availableWatch","statIndex","onchangeDispatch","changedName","changed","pat","dispatchChange","open","set","complete","send","stat","statusStackOrder","onOpenStatus","setStatusAsync","onComplete","lastPromise","_dataBank","data_id","ArchitectModel","_architectVal","architect","configurable","archModel","architectMod","assetName","asCallback","lastProject","getArchitect","config","configProjectID","validConfig","project","asset","setArchitect","cached","selectByTask","selfType","$get","probeStatusAsync","_get","probeRef","_set","constructor","update","isNONE","probeList","projectProbeList","matchFound","lastFilter","_probe","list","storeTransfers","toProbeID","pointToThisProbe","maxDelay","lastValidTransfer","accessLastValidTransfer","trim","dataPropSelector","hasValue","watchProp"],"mappings":"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","file":"js/pocket_browser.684a3e42.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/* tslint:disable */\n/* eslint-disable */\n/* eslint-disable no-proto */\n\n/**\n * @xtils\n * * Simple javascript, lodash alternative library\n * * Developed by Anon\n * * license: CC-BY-SA-4.0\n */\n\n\n(function(global,factory){if(\"function\"===typeof define&&define.amd)define(\"xutils\",[\"exports\"],factory);else if(\"undefined\"!==typeof exports)factory(exports);else{var mod={exports:{}};factory(mod.exports),global.xutils=mod.exports}})(this,function(exports){\"use strict\";var _Numberprototype=Number.prototype,_Stringprototype=String.prototype;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"next\",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,\"throw\",err)}var gen=fn.apply(self,args);_next(void 0)})}}Object.defineProperty(exports,\"__esModule\",{value:!0});var disableLogging=exports.disableLogging=()=>{try{if(window)return window.xUtilsConfig?window.xUtilsConfig.logging=\"off\":window.xUtilsConfig={logging:\"off\"},!0}catch(err){}try{return global.xUtilsConfig?global.xUtilsConfig.logging=\"off\":global.xUtilsConfig={logging:\"off\"},!0}catch(err){}return!1},resetLogging=exports.resetLogging=()=>{try{if(window)return window.xUtilsConfig?window.xUtilsConfig.logging=\"on\":window.xUtilsConfig={logging:\"on\"},!0}catch(err){}try{return global.xUtilsConfig?global.xUtilsConfig.logging=\"on\":global.xUtilsConfig={logging:\"on\"},!0}catch(err){}return!1},loggerSetting=exports.loggerSetting=function loggerSetting(logType,logMode){void 0===logType&&(logType=\"log\"),void 0===logMode&&(logMode=\"off\");if(![\"log\",\"warn\",\"onerror\",\"error\",\"alert\",\"attention\",\"debug\"].includes(logType)||!logType)return!1;if(![\"on\",\"off\"].includes(logMode)||!logMode)return!1;\"onerror\"===logType&&(logType=\"error\");try{if(window)return window.xUtilsConfig?window.xUtilsConfig[logType]=logMode:window.xUtilsConfig={[logType]:logMode},!0}catch(err){}try{return global.xUtilsConfig?global.xUtilsConfig[logType]=logMode:global.xUtilsConfig={[logType]:logMode},!0}catch(err){}return!1},checkLoggerSetting=logType=>{try{if(window)return window.xUtilsConfig?window.xUtilsConfig[logType]?window.xUtilsConfig[logType]:\"on\":\"on\"}catch(err){}try{return global.xUtilsConfig?global.xUtilsConfig[logType]?global.xUtilsConfig[logType]:\"on\":\"on\"}catch(err){}return\"on\"},loggingON=()=>{try{if(window)return\"on\"===(window.xUtilsConfig||{}).logging||(window.xUtilsConfig||{}).logging===void 0}catch(err){}try{return\"on\"===(global.xUtilsConfig||{}).logging||(global.xUtilsConfig||{}).logging===void 0}catch(err){}return!0},logConstract=function logConstract(type,args){void 0===type&&(type=\"\"),args.length||(args[0]=\"\");var allData=0===args.filter(n=>\"string\"===typeof n||n===void 0).length,format=allData?\"%o\":\"\";\"log\"===type&&(args=[].concat(\"\\x1B[90m[log]\\x1B[0m\\x1B[2m\"+format+\" \",args,\"\\x1B[0m\")),\"debug\"===type&&(args=[].concat(\"\\x1B[90m[debug]\\x1B[0m\\x1B[32m\"+format+\" \",args,\"\\x1B[0m\")),\"warn\"===type&&(args=[].concat(\"\\x1B[90m[warning]\\x1B[0m\\x1B[1m\"+format+\" \",args,\"\\x1B[0m\")),\"alert\"===type&&(args=[].concat(\"\\x1B[90m[alert]\\x1B[0m\\x1B[33m\"+format+\" \",args,\"\\x1B[0m\")),\"attention\"===type&&(args=[].concat(\"\\x1B[90m[attention]\\x1B[0m\\x1B[36m\"+format+\" \",args,\"\\x1B[0m\"));try{return void(window&&console.log.apply(null,args))}catch(err){}console.log.apply(null,args)},log=function log(){if(loggingON()&&\"off\"!==checkLoggerSetting(\"log\")){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return logConstract(\"log\",args)}},alert=function alert(){if(loggingON()&&\"off\"!==checkLoggerSetting(\"alert\")){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return logConstract(\"alert\",args)}},error=function error(){for(var _len6=arguments.length,args=Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];if(loggingON()&&\"off\"!==checkLoggerSetting(\"error\")&&\"off\"!==checkLoggerSetting(\"onerror\")){args.length||(args[0]=\"\");var allData=0===args.filter(n=>\"string\"===typeof n||void 0===n).length,format=allData?\"%o\":\"\";try{if(window)return args=[].concat(\"\\x1B[31m[error]\\x1B[0m\\x1B[31m\"+format+\" \",args,\"\\x1B[0m\"),void console.error.apply(null,args)}catch(err){}args=[].concat(\"\\x1B[41m[error]\\x1B[0m\\x1B[31m\"+format+\" \",args,\"\\x1B[0m\"),console.log.apply(null,args)}},stack=exports.stack=function stack(data,asArray){if(void 0===asArray&&(asArray=!1),!!loggingON()){var stackList=new Error(JSON.stringify(data)).stack.split(\"(\");stackList.splice(1,1);var stackHead=stackList[0].split(/\\n/)[0].replace(\"Error\",\"[STACK TRACE]\");return stackList.splice(0,1),stackList.unshift(stackHead),void(asArray?console.log(stackList):console.log.apply(null,stackList))}},errorTrace=exports.errorTrace=function errorTrace(data,asArray){if(void 0===asArray&&(asArray=!1),!!loggingON()){var stackList=new Error(JSON.stringify(data)).stack.split(\"(\");stackList.splice(1,1);var errHead=stackList[0].split(/\\n/)[0].replace(\"Error\",\"[ERROR]\");return stackList.splice(0,1),stackList.unshift(errHead),void(asArray?console.error(stackList):console.error.apply(null,stackList))}},onerror=error,loop=exports.loop=function loop(size,cb){void 0===size&&(size=0);var isNum=\"number\"===typeof size;if(!(\"function\"===typeof cb)||!isNum)return[];if(!size)return[];for(var r,d=[],inx=0;inx<Array(size).length;inx++){r=cb.apply(this,[inx]);try{if(r&&Object.entries(r).length&&r.break)break}catch(err){}d.push(r)}return d},isArray=arr=>!!arr&&Array.prototype===arr.__proto__,typeCheck=function typeCheck(el,standard){void 0===standard&&(standard=!0);var ofType=type=>standard?typeof el:type||typeof el,asPrototype=Type=>Type.prototype===el.prototype;try{return\"symbol\"===typeof el?{type:ofType(),value:0,primitiveValue:Symbol(\"\")}:void 0===el?{type:ofType(),value:0,primitiveValue:void 0}:\"boolean\"===typeof el?{type:ofType(),value:+el,primitiveValue:Boolean()}:\"bigint\"===typeof el&&\"object\"===typeof Object(el)?{type:ofType(),value:1,primitiveValue:BigInt(\"\")}:null===el?{type:ofType(\"null\"),value:0,primitiveValue:{}}:el.__proto__===Date.prototype||asPrototype(Date)?{type:ofType(\"date\"),value:1,primitiveValue:new Date}:_Stringprototype===el.__proto__?{type:ofType(),value:el.length,primitiveValue:String()}:Array.prototype===el.__proto__||asPrototype(Array)?{type:ofType(\"array\"),value:(el||[]).length,primitiveValue:[]}:Promise.prototype===(el||\"\").__proto__||asPrototype(Promise)?{type:ofType(\"promise\"),value:1,primitiveValue:Function()}:Function.prototype===el.__proto__||asPrototype(Function)?{type:ofType(),value:1,primitiveValue:Function()}:Object.prototype===el.__proto__||asPrototype(Object)?{type:ofType(),value:Object.keys(el).length,primitiveValue:{}}:Error.prototype===el.__proto__||asPrototype(Error)?{type:ofType(\"error\"),value:Object.keys(el).length,primitiveValue:Error()}:el.__proto__===_Numberprototype||asPrototype(Number)?isNaN(el)?{type:ofType(\"NaN\"),value:0,primitiveValue:Number()}:{type:ofType(),value:el,primitiveValue:Number()}:!1===0<=+el?{type:typeof el,value:+el,primitiveValue:void 0}:{type:typeof el,value:0,primitiveValue:void 0}}catch(err){return error(err),{}}},isError=el=>Error.prototype===(el||\"\").__proto__,isFalse=exports.isFalse=el=>null===el||\"undefined\"===typeof el||!!(\"number\"===typeof el&&1>el)||\"boolean\"===typeof el&&!1===el,isTrue=exports.isTrue=el=>null!==el&&\"undefined\"!==typeof el&&(!!(\"number\"===typeof el&&0<el)||\"boolean\"===typeof el&&!0===el),isBoolean=exports.isBoolean=el=>void 0!==el&&null!==el&&(\"boolean\"===typeof el||Boolean.prototype===el.__proto__),isNull=exports.isNull=el=>null===el,isUndefined=exports.isUndefined=el=>\"undefined\"===typeof el,isEmpty=exports.isEmpty=value=>!isError(value)&&!typeCheck(value).value,head=exports.head=function head(arr){return void 0===arr&&(arr=[]),Array.prototype===(arr||null).__proto__?arr.flat().shift():[]},last=exports.last=function last(arr){return void 0===arr&&(arr=[]),arr&&Array.prototype===arr.__proto__?arr[arr.length-1]:null},timer=exports.timer=function timer(cb,time){void 0===time&&(time=0);if(!(\"function\"===typeof cb))return null;time=\"number\"===typeof time&&0<=time?time:0;var s=setTimeout(()=>{cb(),clearTimeout(s)},time)},interval=exports.interval=function interval(cb,every,endTime){void 0===every&&(every=0),void 0===endTime&&(endTime=0);if(!(\"function\"===typeof cb))return null;every=\"number\"===typeof every&&0<=every?every:0,endTime=\"number\"===typeof endTime&&0<=endTime?endTime:0;var counter=0,c=setInterval(()=>{endTime<=counter?clearInterval(c):cb(),counter+=every},every)},sq=exports.sq=()=>{var res,rej,promise=new Promise((resolve,reject)=>{res=resolve,rej=reject});return{resolve:res,reject:rej,promise}},validID=exports.validID=function validID(id){return void 0===id&&(id=\"\"),id||\"\"?(id||\"\").toString().toLowerCase().replace(/\\s/g,\"\"):\"\"},isNumber=exports.isNumber=n=>!(n===void 0||null===n||\"\"===n)&&n.__proto__===_Numberprototype,stringSize=exports.stringSize=function stringSize(str){return void 0===str&&(str=\"\"),void 0!==str&&null!==str?str.__proto__===_Stringprototype?str.length:0:0},isQPromise=defer=>{try{if(!0===(defer.promise!==void 0&&\"function\"===typeof defer.resolve&&\"function\"===typeof defer.reject))return!0}catch(err){}return!1},isPromise=defer=>!!isQPromise(defer)||Promise.prototype===(defer||{}).__proto__,cancelPromise=exports.cancelPromise=function cancelPromise(_ref){var{defer,checkEvery=500,maxWait=9500,cbErr,message=\"taken too long to respond\",logging=!1,id}=_ref,validPromise=isPromise(defer)||isQPromise(defer);if(!validPromise||!(el=>\"function\"===typeof el)(cbErr)||!maxWait)return void onerror(\"[cancelPromise]\",\"{defer,maxWait,cbErr} must be provided\");var exit_interval,every=checkEvery||500;maxWait=maxWait||1;var inx=0,t=setInterval(()=>{if(exit_interval)return clearInterval(t);if(inx>maxWait){var args={error:message+\", time: \"+inx,defer,id};try{cbErr.apply(args,[args])}catch(err){onerror(\"[cancelPromise]\",err)}return clearInterval(t)}logging&&(id?log(\"-- processing: \",id):alert(\"-- processing \"));inx=every+inx},every);return defer.promise?defer.promise.then(n=>(exit_interval=!0,n)).catch(err=>err):defer.then?defer.then(n=>(exit_interval=!0,n)).catch(err=>err):void 0},isObject=obj=>{if(\"function\"===typeof obj)return!1;if(!isNaN(+obj)||void 0===obj)return!1;if(obj.__proto__===[].__proto__)return!1;var a=Object.prototype===obj.__proto__||Error.prototype===obj.__proto__,ab=a&&obj instanceof Object;return!!ab||!!(void 0!==obj.__proto__&&void 0!==obj.__proto__.__proto__&&obj.__proto__.__proto__===Object.prototype&&obj instanceof Object)||!!obj.prototype},uniq=function uniq(arr){return void 0===arr&&(arr=[]),arr.filter((el,i,all)=>all.indexOf(el)===i)},shuffle=exports.shuffle=function shuffle(arr){var _Mathfloor=Math.floor;if(void 0===arr&&(arr=[]),!isArray(arr))return[];for(var i=arr.length-1;0<i;i--){var j=_Mathfloor(Math.random()*i),k=arr[i];arr[i]=arr[j],arr[j]=k}return arr},selectiveArray=exports.selectiveArray=function selectiveArray(selectBy,data){if(void 0===selectBy&&(selectBy=[]),void 0===data&&(data=[{}]),!isArray(data))return[];if(!data.length)return[];if(!isArray(selectBy))return data;if(!selectBy.length)return data;selectBy=uniq(selectBy);for(var item,nData=[],findNest=function findNest(s,item,inx){void 0===inx&&(inx=0);var found,lastItem=null;if(s&&isArray(s)&&s.length){try{if(void 0!==item[s[inx]])return lastItem=item[s[inx]],found=lastItem,++inx,s[inx]?findNest(s,found,inx):found}catch(err){console.log(err.toString())}return found}},i=0;i<data.length;i++){if(item=data[i],!isObject(item)){nData.push([item]);continue}for(var sArr,found=void 0,collective=[],o=0;o<selectBy.length;o++){sArr=(selectBy[o]||\"\").split(\".\");try{found=findNest(sArr,item,0),collective.push(found)}catch(err){}}if(selectBy.length===collective.length){var allUndef=collective.filter(n=>void 0===n);allUndef.length===selectBy.length&&(collective=collective.filter(n=>!!n))}collective.length?nData.push([].concat(collective)):void 0!==found&&nData.push(found)}return nData},isClass=obj=>!!obj&&void 0!==obj.prototype,hasPrototype=exports.hasPrototype=isClass,hasProto=exports.hasProto=el=>{try{return el.__proto__!==void 0}catch(err){return!1}},isInstance=obj=>!!obj&&!isArray(obj)&&!!(obj.__proto__&&!isClass(obj)&&obj.__proto__.__proto__&&obj.__proto__.__proto__===Object.prototype&&obj instanceof Object),objectSize=exports.objectSize=function objectSize(obj){return void 0===obj&&(obj={}),obj&&isNaN(+obj)?isInstance(obj)?Object.keys(obj).length:Object.prototype===obj.__proto__||Error.prototype===obj.__proto__?Object.keys(obj).length:0:0},isFalsy=function isFalsy(el){return void 0===el&&(el=null),void 0===el||!1===el&&\"boolean\"===typeof el||null===el||(_Stringprototype===el.__proto__?1>el.length:Array.prototype===el.__proto__?0===(el||[]).length:Promise.prototype!==(el||{}).__proto__&&\"function\"!==typeof el&&(Object.prototype===el.__proto__||isInstance(el)?0===Object.keys(el).length:Error.prototype!==el.__proto__&&(void 0!==el&&el.__proto__===_Numberprototype?!!isNaN(el)||0>=el:!1===0<+el||!el&&!1)))},isString=exports.isString=str=>void 0!==str&&null!==str&&\"boolean\"!==typeof str&&(\"\"===str||_Stringprototype===str.__proto__),isFunction=exports.isFunction=el=>\"function\"===typeof el,copyBy=exports.copyBy=function copyBy(obj,refs){if(void 0===obj&&(obj={}),void 0===refs&&(refs=[]),!isObject(obj))return{};var d=[].concat(refs).reduce((n,el)=>(void 0!==obj[el]&&(n[el]=obj[el]),n),{});try{return JSON.parse(JSON.stringify(d))}catch(err){return{}}},copy=data=>{try{return JSON.parse(JSON.stringify(data))}catch(err){return typeCheck(data).primitiveValue}},copyDeep=exports.copyDeep=data=>{if(isArray(data))return data.map(n=>copy(n));if(isObject(data))return Object.entries(data).reduce((n,_ref2)=>{var[k,val]=_ref2;return n[k]=isObject(val)?Object.assign({},copy(val)):val,n},{});try{return JSON.parse(JSON.stringify(data))}catch(err){return typeCheck(data).primitiveValue}},delay=exports.delay=function delay(time){void 0===time&&(time=100);var isNum=\"number\"===typeof time&&0<=time;return isNum?new Promise(resolve=>{var t=setTimeout(()=>{clearTimeout(t),resolve(!0)},time)}):Promise.resolve(!0)},someKeyMatch=exports.someKeyMatch=function someKeyMatch(object,source){if(void 0===object&&(object={}),void 0===source&&(source={}),!object||Object.prototype!==object.__proto__)return!1;if(!source||Object.prototype!==source.__proto__)return!1;var a=Object.keys(object),b=Object.keys(source);return a.length>=b.length?0<a.filter(z=>b.filter(zz=>zz===z).length).length:0<b.filter(z=>a.filter(zz=>zz===z).length).length},exactKeyMatch=exports.exactKeyMatch=function exactKeyMatch(object,source){if(void 0===object&&(object={}),void 0===source&&(source={}),!object||Object.prototype!==object.__proto__)return!1;if(!source||Object.prototype!==source.__proto__)return!1;var a=Object.keys(object),b=Object.keys(source);return a.length>=b.length?a.filter(z=>b.filter(zz=>zz===z).length).length===a.length:b.filter(z=>a.filter(zz=>zz===z).length).length===b.length},trueVal=exports.trueVal=function trueVal(arr){return void 0===arr&&(arr=[]),arr&&Array.prototype===arr.__proto__?[].concat(arr).filter(itm=>!0!==isFalsy(itm)):[]},trueValDeep=exports.trueValDeep=function trueValDeep(arr){return void 0===arr&&(arr=[]),arr&&Array.prototype===arr.__proto__?[].concat(arr).map(itm=>{var typeIs=typeCheck(itm,!1);return\"array\"===typeIs.type&&0<typeIs.value?itm.map(child=>0<typeCheck(child,!1).value?child:null).filter(n=>!!n):\"object\"===typeIs.type&&typeIs.value?Object.entries(itm).reduce((n,_ref3)=>{var[k,v]=_ref3;return 0<typeCheck(k,!1).value&&(n[k]=v),n},{}):0<typeIs.value?itm:null}).filter(n=>!!n):[]},trueProp=exports.trueProp=function trueProp(obj){return void 0===obj&&(obj={}),obj&&Object.prototype===obj.__proto__?Object.assign({},Object.entries(obj).reduce((n,_ref4)=>{var[key,val]=_ref4;return isFalsy(val)||(n[key]=val),n},{})):0},resolver=exports.resolver=function resolver(fn,timeout,testEvery){void 0===timeout&&(timeout=5e3),void 0===testEvery&&(testEvery=50);return\"function\"===typeof fn?new Promise(resolve=>{var every=testEvery||50,max=timeout,inx=0,called=null,test=()=>{try{return called||(called=fn()),isPromise(called)?called:fn()}catch(error){return isError(error)?{error}:isObject(error)?error.error?error:{error:error}:{error:error.toString()}}},t=setInterval(_asyncToGenerator(function*(){if(inx>=max)return resolve(void 0),clearInterval(t);var anon=test();if(isPromise(anon))try{var d=yield anon;return resolve(d),clearInterval(t)}catch(error){return isError(error)&&resolve({error}),isObject(error)?error.error?resolve(error):resolve({error}):resolve({error:error.toString()}),clearInterval(t)}return void 0===anon?void(inx+=every):(resolve(anon),clearInterval(t))}),every)}):Promise.reject(\"fn() must be callable\")},flatten=exports.flatten=function flatten(arr){return void 0===arr&&(arr=[]),isArray(arr)?[].concat(...arr):[]},flattenDeep=exports.flattenDeep=function flattenDeep(arr){function test(arr,d){return void 0===d&&(d=1),0<d?arr.reduce((acc,val)=>acc.concat(Array.isArray(val)?test(val,d-1):val),[]):arr.slice()}return void 0===arr&&(arr=[]),isArray(arr)?test(arr,1/0):[]},chunks=exports.chunks=(arr,size)=>Array.from({length:Math.ceil(arr.length/size)},(v,i)=>arr.slice(i*size,i*size+size)),dupes=exports.dupes=(item,index)=>{for(var dups=[],n=parseInt(index);0<n;)n--,dups.push(item);return dups},uniqBy=exports.uniqBy=function uniqBy(arr,propName){void 0===arr&&(arr=[]),void 0===propName&&(propName=\"\");var stored={},n=[];if(!propName)return arr;if(!(arr||[]).length)return[];for(var item,inx=0;inx<arr.length;inx++){if(item=arr[inx],!isObject(item)){n.push(item);continue}if(!item[propName]){n.push(item);continue}item[propName]!==stored[propName]&&(stored[propName]=item[propName],n.push(item))}return n};exports.copy=copy,exports.uniq=uniq,exports.isPromise=isPromise,exports.isQPromise=isQPromise,exports.debug=function debug(){if(loggingON()&&\"off\"!==checkLoggerSetting(\"debug\")){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return logConstract(\"debug\",args)}},exports.log=log,exports.warn=function warn(){if(loggingON()&&\"off\"!==checkLoggerSetting(\"warn\")){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return logConstract(\"warn\",args)}},exports.onerror=onerror,exports.error=error,exports.alert=alert,exports.attention=function attention(){if(loggingON()&&\"off\"!==checkLoggerSetting(\"attention\")){for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return logConstract(\"attention\",args)}},exports.isObject=isObject,exports.isFalsy=isFalsy,exports.isError=isError,exports.typeCheck=typeCheck,exports.validDate=dt=>{try{return!(dt.__proto__!==Date.prototype||\"Invalid Date\"===dt.toString())}catch(err){return!1}},exports.isInstance=isInstance,exports.isClass=isClass,exports.isArray=isArray;exports.notify=function notify(logData,err){throw void 0===logData&&(logData=null),void 0===err&&(err=null),\"no notify support for x-utils-es, use: x-utils\"}});\n","\r\n/**\r\n * requirejs global event handler\r\n */\r\nmodule.exports = function (_uid, _debug = null) {\r\n    return (new function (uid, debug) {\r\n        const plugin = `[dispatcher]`\r\n        this.uid = (uid || '').toString() || new Date().getTime()\r\n        this.debug = debug\r\n        this.cbQueue = {}\r\n        this.dispatchInstance = {}\r\n\r\n        this.initListener = () => {\r\n            this.Dispatch()\r\n            return this\r\n        }\r\n        /**\r\n         * @next\r\n         * send next data to the `batchReady` callback\r\n         * @param {*} data # optional\r\n         */\r\n        this.next = (data = null) => {\r\n            if (this.dispatchInstance[this.uid]) this.dispatchInstance[this.uid].next(data)\r\n            else {\r\n                if (this.debug) console.log({ message: `${plugin} for uid not available`, uid: this.uid })\r\n            }\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * @Dispatch\r\n         * master listener, sends all event callbacks to `batchReady`\r\n         */\r\n        this.Dispatch = () => {\r\n            if (this.dispatchInstance[this.uid]) return this\r\n            const self = this\r\n            const D = function () {\r\n                this.uid = self.uid\r\n                this.data = null\r\n\r\n                this.next = (data) => {\r\n                    if ((data || {}).type !== 'cb') this.data = data\r\n                    /**\r\n                         * @next\r\n                         * acts as a reverse callback, it sends back the `cb` from `batchReady`\r\n                         */\r\n                    if ((data || {}).type === 'cb') {\r\n                        if (typeof data.cb === 'function') {\r\n                            // when calling next before batchReady is initiated\r\n                            // collect cb from .next\r\n                            if (!self.cbQueue[self.uid]) self.cbQueue[self.uid] = data.cb\r\n                            if (this.data) data.cb.call(self, this.data, self.uid)\r\n                        }\r\n\r\n                        return\r\n                    }\r\n\r\n                    if (this.data) {\r\n                        if (typeof self.cbQueue[self.uid] === 'function') self.cbQueue[self.uid].call(self, this.data, self.uid)\r\n                    } else {\r\n                        if (this.debug) console.log(`${plugin} no callback data`)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!this.dispatchInstance[this.uid]) this.dispatchInstance[this.uid] = new D()\r\n            return this\r\n        }\r\n\r\n        this.isActive = () => {\r\n            return !!this.dispatchInstance[this.uid]\r\n        }\r\n\r\n        this.del = () => {\r\n            delete this.cbQueue[this.uid]\r\n            delete this.dispatchInstance[this.uid]\r\n\r\n            if (!this.cbQueue[this.uid] && !this.dispatchInstance[this.uid]) {\r\n                // if (this.debug) console.log(`cbQueue and dispatchInstance for uid ${this.uid} deleted`)\r\n            }\r\n            return this\r\n        }\r\n\r\n        /**\r\n     * @subscribe\r\n     * wait for callbacks forwarded from Dispatch and returned in callback of this method\r\n     * - Dispatch must be set initially before you call `subscribe`\r\n     * @param {*} cb #required\r\n     */\r\n        this.subscribe = (cb) => {\r\n            const isFN = typeof cb === 'function'\r\n            if (!isFN) {\r\n                if (this.debug) console.log(`${plugin}[batchReady] cb must be set`)\r\n                return this\r\n            }\r\n            if (!this.dispatchInstance[this.uid]) {\r\n                // this means batchReady was executed prior to `Dispatch`, because it has forward with next\r\n                // it will get executed anyway\r\n                this.Dispatch()\r\n            }\r\n            if (this.dispatchInstance[this.uid]) this.dispatchInstance[this.uid].next({ type: 'cb', cb })\r\n            return this\r\n        }\r\n    }(_uid, _debug))\r\n}\r\n","module.exports = require('./simple-q')","/* eslint-disable no-undef */\r\n// for es2015/ or below browser loading\r\nwindow.Pocket = () => require('../Pocket.module').PocketModule()\r\n","exports.PocketModule = () => {\r\n    // const messageCODE = require('./errors') // DISPLAY MESSAGES WITH CODE\r\n\r\n    const { objectSize, log, onerror, warn, isArray, isObject, isPromise, validID, isString } = require('x-utils-es/umd')\r\n    const sq = require('simple-q') // nice and simple promise/defer by `eaglex.net`\r\n    const PocketLibs = require('./Pocket.libs')()\r\n    const newProbe = require('./Probe').Probe\r\n\r\n    /**\r\n     * TODO ADD to $update `// action/[merge], action/+-*` using regEx\r\n     */\r\n\r\n    class PocketModule extends PocketLibs {\r\n        constructor(opts, debug) {\r\n            super(opts, debug)\r\n            if (this.dispatcher) {\r\n                this.dispatcher.initListener().subscribe((z, id) => {\r\n                    const { probe, status } = z || {}\r\n\r\n                    if (status === 'error') {\r\n                        // NOTE dispatch data out\r\n                        if (this.debug) log('[pocket]', `[dispatcher] probe id:${probe.id} error`)\r\n                    }\r\n\r\n                    if (status === 'open') {\r\n                        if (this.debug) log('[pocket]'`[dispatcher] probe id:${probe.id} created`)\r\n                    }\r\n\r\n                    if (status === 'complete') {\r\n                        // NOTE dispatch data out\r\n                        if (this.debug) log('[pocket]', `[dispatcher] probe id:${probe.id} completed`)\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        // \r\n        //   :::::: U S E R   A P P L I C A T I O N   C A L L I N G   M E T H O D S : :  :   :    : \r\n        // \r\n        //\r\n\r\n        /**\r\n         * @memberof $payload\r\n         */\r\n        payload(data = {}, async, type = 'new') {\r\n            this.d = null\r\n            let isUpdated = null\r\n\r\n            // validate payload format\r\n            if (!isObject(data)) return false\r\n\r\n            const keys = Object.keys(data)\r\n            // must match all keys\r\n            if (keys.every(el => ['id', 'tasks'].indexOf(el) === -1)) {\r\n                if (this.debug) onerror('[pocket]', `[$payload] id and tasks are required`)\r\n                return false\r\n            }\r\n            if (!isArray(data['tasks'])) {\r\n                if (this.debug) onerror('[pocket]', `[$payload] data.tasks must be an array`)\r\n                return false\r\n            }\r\n\r\n            data.id = this.validProjectID(data.id)\r\n\r\n            if (!data.id) {\r\n                if (this.debug) onerror('[pocket]', `[$payload] data.id invalid`)\r\n                return false\r\n            }\r\n\r\n            if (this.payloadData[data.id] && (!type || type === 'new')) {\r\n                this._lastProjectID = data.id\r\n                // if (this.debug) warn(`[$payload] this payload.id already exists`)\r\n                return true\r\n            }\r\n\r\n            let initialProject = this.payloadData[data.id] === undefined // because there is no data set as of yet\r\n\r\n            // NOTE on update/new of project we need to reset $filter values, in case \r\n            if ((this._lastFilterList[data.id] || []).length) this._lastFilterList[data.id] = []\r\n\r\n            // NOTE validate our pocket values before generating each `new Probe()`\r\n            for (let val of data['tasks'].values()) {\r\n                if (!val['task']) {\r\n                    if (this.debug) warn('[pocket]', '[$payload] task must be set for your tasks')\r\n                    continue\r\n                }\r\n                // validate task \r\n                if (!this.idRegexValid(val['task']) || val['task'].indexOf('::') !== -1) {\r\n                    if (this.debug) warn('[pocket]', '[$payload] invalid taskName, failed idRegexValid validation')\r\n                    continue\r\n                }\r\n                \r\n                const probeID = `${data.id}::${val['task']}`\r\n                if (type === 'update' && !initialProject && this.pocket[probeID]) {\r\n                    if (val['data']) this.pocket[probeID]['data'] = val['data']    \r\n                    if (val['status']) this.pocket[probeID]['status'] = val['status']    \r\n\r\n                    // NOTE in case we update status in case it wasnt provided but new data was assigned\r\n                    // status should only be changed after data is set\r\n                    if (!val['status'] && val['data'] && this.pocket[probeID]['status'] === 'open') {\r\n                        this.pocket[probeID]['status'] = 'updated'\r\n                    }\r\n                    if (val['ref']) this.pocket[probeID]['ref'] = val['ref']\r\n                    if (val['error']) this.pocket[probeID]['error'] = val['error']\r\n                    if (val['campaign']) this.pocket[probeID]['campaign'] = val['campaign']\r\n                    \r\n                    isUpdated = true\r\n                    this._lastProjectID = data.id\r\n                    // NOTE after update, payloadData will differ from new Probe{} data\r\n                    // NOTE do not update `payloadData` it is redundant if we donot need it for anything, only update Probes{}\r\n                    /// this.payloadData[data.id]['value']\r\n                    // an existing project do not everride\r\n\r\n                    continue\r\n                }\r\n\r\n                if (!this.payloadData[data.id]) this.payloadData[data.id] = { value: [], status: 'open', timestamp: new Date().getTime() }\r\n                const exists = this.payloadData[data.id]['value'].filter(z => z.task.indexOf(val.task) !== -1)\r\n                if (exists.length) {\r\n                    if (this.debug && !this.disableWarnings) warn('[pocket]', `the same task \"${val.task}\" already exists on the payload, you must choose uniq`)\r\n                    continue\r\n                }\r\n\r\n                this.payloadData[data.id]['value'].push(val)\r\n                this.lastPocketTimestamp = this.payloadData[data.id]['timestamp']\r\n            }\r\n\r\n            // only when updating existance of Probe{}\r\n            if (type === 'update' && this.payloadData[data.id] && !initialProject) {\r\n                this.projectsCache[data.id] = 'open'\r\n                return isUpdated\r\n            }\r\n\r\n            if (this.payloadData[data.id]) {\r\n                this.lastProjectID(data.id)\r\n                this.projectsCache[data.id] = 'open' // means created project\r\n                this.distributor()\r\n                    .setDefer(data.id)\r\n                // NOTE required in order for $projectSetAsync to retrun callback to resolve our promise\r\n                this.projectSetDispatcher(data.id).initListener().next({ projectID: data.id })\r\n                return true\r\n            } else return false\r\n        }\r\n\r\n        /**\r\n         * ### $projectSetAsync\r\n         * - usage: to call before `$project()/$payload()/$architect` were called\r\n         * - for example you have loaded same `Pocket` instance in another part of your code, now checking for it  in future before $project created. This method can `await $projectSetAsync(projectID)` and continue with already set `$project(...).$get(..).$update(..)` etc\r\n         * @param {*} projectID required, this is your `$project/$payload` id\r\n         */\r\n        $projectSetAsync(projectID = '') {\r\n            const self = this\r\n            projectID = this.lastProjectID(projectID, false, null)\r\n            if (this._projectSetAsync[projectID]) {\r\n                return this._projectSetAsync[projectID].promise()\r\n            }\r\n            /**\r\n             * will subscribe when called the first time and set our simple promise then resolve once the `$payload` is succesfull\r\n             */\r\n            this._projectSetAsync[projectID] = sq()\r\n            this.projectSetDispatcher(projectID).initListener().subscribe(function (z, id) {\r\n                self._projectSetAsync[id].resolve(z)\r\n                this.del() // deletes projectSetDispatcher of self \r\n            })\r\n            return this._projectSetAsync[projectID].promise()\r\n        }\r\n\r\n        /**\r\n         * @memberof probeStatusAsync\r\n         */\r\n        probeStatusAsync(probeID = '') {\r\n            const returnAs = (val) => {\r\n                this.d = val\r\n                return this\r\n            }\r\n\r\n            probeID = this.lastProbeID(probeID)\r\n            if (!probeID) return returnAs(null)\r\n            return returnAs(this.pocket[probeID].getStatusAsync)\r\n        }\r\n\r\n        /**\r\n         * @memberof $update\r\n         */\r\n        update(dataFrom, mergeData = null, probeID = '') {\r\n            return this._setUpdate(dataFrom, mergeData, probeID, 'update')\r\n        }\r\n\r\n        /**\r\n         * @memberof $set\r\n         */\r\n        _set(dataFrom, probeID = '') {\r\n            return this._setUpdate(dataFrom, null, probeID, 'set')\r\n        }\r\n\r\n        /**\r\n         * - declated via $get\r\n         * @memberof $get\r\n         */\r\n        _get(probeID = '', self = false) {\r\n            const returnAs = (val) => {\r\n                this.d = val\r\n                return self ? this : this.d\r\n            }\r\n\r\n            this.d = null\r\n            probeID = this.lastProbeID(probeID)\r\n            if (!probeID) return returnAs(null)\r\n            else return returnAs(this.pocket[probeID])\r\n        }\r\n\r\n        /**\r\n         * ### $activeTasks\r\n         * - list any active tasks for assigned Probes\r\n         * @param {*} payloadID optional, when set will only filter thru given job id (NOT Probe{} ID!)\r\n         */\r\n        $activeTasks(payloadID = '') {\r\n            const returnAs = (val) => {\r\n                this.d = val\r\n                return this\r\n            }\r\n\r\n            payloadID = this.lastProjectID(payloadID)\r\n            if (!objectSize(this.pocket)) return returnAs([])\r\n            let tasks = Object.entries(this.pocket).reduce((n, [probeID, probe]) => {\r\n                if (probeID.indexOf(payloadID || '') === 0 && payloadID && this.payloadData[payloadID]) n.push(probe['task'])\r\n                else if (!payloadID) n.push(probe['task'])\r\n                return n\r\n            }, [])\r\n            return returnAs(tasks)\r\n        }\r\n\r\n        /**\r\n         * @memberof $ready\r\n         */\r\n        ready(payloadID = '') {\r\n            this.d = null\r\n\r\n            if (!this._ready[payloadID]) throw (`ready[payloadID] is not set, maybe you called it before $payload()`)\r\n            return this._ready[payloadID].promise()\r\n        }\r\n\r\n        //\r\n        // \r\n        //   :::::: E N D : :  :   :    :     :        :          \r\n        //   \r\n\r\n        // extends  `$update` and `$set`\r\n        _setUpdate(dataFrom, mergeData = null, probeID = '', type = 'update') {\r\n            const returnAs = (val) => {\r\n                this.d = val\r\n                return this\r\n            }\r\n\r\n            let id = this.lastProbeID(probeID)\r\n            if (!id) {\r\n                if (this.debug) onerror('[pocket]', `[$update] must specify id`)\r\n                return returnAs(false)\r\n            }\r\n\r\n            if (!isObject(dataFrom)) {\r\n                if (this.debug) warn('[pocket]', `[$update] dataFrom must be an Object`)\r\n                return returnAs(false)\r\n            }\r\n\r\n            if (!this.pocket[id]) {\r\n                if (this.debug) onerror('[pocket]', `[$update] this.pocket with id:${id} not found`)\r\n                return returnAs(false)\r\n            }\r\n\r\n            let updated = false\r\n            this._lastProjectID = id\r\n            // reorder dataFrom, make sure if `status` exists, it is shifted to last position, so the Probe{} doent change state before other values got chance to do so, nice!\r\n\r\n            // we need to convert dataFrom{} to dataFrom[]>array to achieve this\r\n            dataFrom = Object.entries(dataFrom).reduce((n, [key, value]) => {\r\n                const pos = this.probeProps.indexOf(key) // new order\r\n                if (this.probeProps[pos] === key) n.push({ inx: pos, data: { [key]: value } })\r\n                return n\r\n            }, [])\r\n\r\n            for (let inx = 0; inx < dataFrom.length; inx++) {\r\n                if ((dataFrom[inx] || {})['data'] === undefined) continue\r\n                const [key, value] = Object.entries(dataFrom[inx]['data'])[0]\r\n                if (this.pocket[id][key] !== undefined) {\r\n                    if (key === 'data') {\r\n                        if (mergeData === true) this.pocket[id][key] = Object.assign({}, this.pocket[id][key], value)\r\n                        else this.pocket[id][key] = value\r\n                    } if (key === 'status' || key === 'ref' || key === 'error' || key === 'campaign') this.pocket[id][key] = value\r\n                    updated = true\r\n                    continue\r\n                } else {\r\n                    if (this.debug) warn('[pocket]', `[$update] not a valid prop/value: { ${key}:${this.pocket[id][key]} }`)\r\n                }\r\n            }\r\n            // when setting new data, using `$set()` we should clear any cached Probes and realated data\r\n            if (updated && type === 'set') {\r\n                this.clearStoreTransfers(id)\r\n                if (this.$transfer_lastID === id) this.$transfer_lastID = ''\r\n                if (this._$cached_data[id]) delete this._$cached_data[id]\r\n            }\r\n\r\n            // if(updated && type==='update') { }\r\n            return returnAs(updated)\r\n        }\r\n\r\n        /**\r\n         * - sets defer for `$ready()` initially after calling payload \r\n         * @param {*} id required\r\n         */\r\n        setDefer(id) {\r\n            id = validID(id)\r\n            if (!id) throw 'id must be set'\r\n\r\n            if (!this._ready[id]) this._ready[id] = sq()\r\n\r\n            if (!objectSize(this.pocket)) {\r\n                const msg = `[setDefer] probe is empty, so nothing set, id:${id}`\r\n                if (this.debug) onerror('[pocket]', msg)\r\n                this._ready[id].reject(msg)\r\n                return null\r\n            }\r\n\r\n            const pocketSet = Object.values(this.pocket).filter(z => z.id.indexOf(id) !== -1)\r\n            if (!pocketSet.length) {\r\n                const msg = `[setDefer] no pocketSet found for id:${id} `\r\n                if (this.debug) onerror('[pocket]', msg)\r\n                this._ready[id].reject(msg)\r\n                return null\r\n            }\r\n\r\n            try {\r\n                const userOutput = (pock) => {\r\n                    const output = {}\r\n                    if (!isObject(pock)) return null\r\n                    for (let i = 0; i < this.probeProps.length; i++) {\r\n                        const prop = this.probeProps[i]\r\n                        if (pock[prop] !== undefined && pock[prop] !== null) output[prop] = pock[prop]\r\n                    }\r\n                    return output\r\n                }\r\n                /**\r\n                 * IMPORTANT:\r\n                 * when our pocketSet for each this.pocket[id] is marked 'complete'\r\n                 * `Probe().resolve(...)` is called, and Promise.all is waiting for `pocketSet` to complete\r\n                 */\r\n                Promise.all(pocketSet.map(z => z.sq.promise())).then(z => {\r\n                    const output = z.map(p => userOutput(p.probe)).filter(n => !!n)\r\n                    this._ready[id].resolve(output)\r\n                }, err => {\r\n                    // should unlikely happen since we dont have any rejects set\r\n                    onerror('[pocket]', `[setDefer] Promise.all`, err)\r\n                })\r\n\r\n                return true\r\n            } catch (err) {\r\n                onerror('[pocket]', `[setDefer]`, err)\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n        /**\r\n         * - distribute payloadData, each to `new Probe()`\r\n         */\r\n        distributor() {\r\n            for (let [key, el] of Object.entries(this.payloadData)) {\r\n                if (this.lastPocketTimestamp > el['timestamp']) continue // no new entries\r\n\r\n                // omit done\r\n                if (el.status === 'complete' || el.status === 'send' || el.status === 'error') continue\r\n\r\n                for (let value of el.value.values()) {\r\n                    const pl = { id: key, ...value }\r\n                    const pocketSet = this.setProbe(pl)\r\n                    if (!pocketSet) onerror('[pocket]', `probe for id:${key} already exists`)\r\n                }\r\n            }\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * - every new probe `id` must be: format `id:::taskName`\r\n         * required: `{id,task}`\r\n         * optional: `{campaign}`\r\n         * @param {*} opts\r\n         */\r\n        setProbe(opts = {}) {\r\n            if (!opts.id || !opts.task) throw ('id and task both must be set')\r\n            if (!validID(opts.id)) throw ('opts.id not valid')\r\n\r\n            const uid = `${opts.id}::${opts.task}`\r\n            if (this.pocket[uid]) {\r\n                if (this.debug) log('[pocket]', `[setProbe] probe: ${uid} already set`)\r\n                return null\r\n            }\r\n            try {\r\n                opts.id = uid\r\n                const emitter = this.dispatcher !== null ? this._emit.bind(this) : null\r\n                const p = new this.Probe(opts, {\r\n                    withDataBank: this.withDataBank,\r\n                    disableWarnings: this.disableWarnings, // disable some less relevant warning messages\r\n                    onChange: this._onChange, \r\n                    emitter, \r\n                    completeOnNull: this.completeOnNull }, this.debug)\r\n                this.pocket[uid] = p\r\n            } catch (err) {\r\n                onerror('[pocket]', err)\r\n                return null\r\n            }\r\n            return this.pocket[uid]\r\n        }\r\n\r\n        /**\r\n         * set new probe model\r\n         * - every new task has a set of requirements. Once status is `complete` and data available, probe sends a dispatch with probe information `(if opts.dispatcher===true)`.\r\n         * methods:`{get,all}` props: `{id,data,task,status,campaign}`\r\n         * \r\n         *  @param {*} opts.id required\r\n         *  @param {*} opts.task required\r\n         *  @param {*} opts.campaign optional\r\n         * \r\n         * - `Probe` is resolved once `sq.resolve()` is called, sq => `Simple Q` our plugin\r\n         * @memberof Probe.js module\r\n         */\r\n        get Probe() {\r\n            return newProbe()\r\n        }\r\n\r\n        /**\r\n         * - emit extends with `Dispatcher` to be used by every new Probe{} as an emitter `(if opts.dispatcher===true)`\r\n         * @param {*} obj required\r\n         */\r\n        _emit(obj) {\r\n            if (!obj) return null\r\n            if (!this.dispatcher) return null\r\n            try {\r\n                this.dispatcher.initListener().next(obj)\r\n                return true\r\n            } catch (err) {\r\n                onerror('[pocket]', `[_emit] dispatcher did not emit`)\r\n                return null\r\n            }\r\n        }\r\n\r\n        /**\r\n         * - delete completed `pocketSet`\r\n         */\r\n        deletePocketSet(id) {\r\n            if (!id) return\r\n            if (Object.values(this.pocket).length) {\r\n                for (let poc of Object.values(this.pocket)) {\r\n                    if (this._$cached_data[poc.id]) delete this._$cached_data[poc.id]\r\n                    if (poc.id.includes(id)) delete this.pocket[poc.id]\r\n                }\r\n            }\r\n            if (this.payloadData[id]) delete this.payloadData[id]\r\n            if (this._ready[id]) delete this._ready[id]\r\n\r\n            // these  two are together\r\n            if (this._projectSetDispatcher[id] !== undefined) delete this._projectSetDispatcher[id]\r\n            if (this._projectSetAsync[id]) delete this._projectSetAsync[id]\r\n            if (this._lastFilterList[id]) delete this._lastFilterList[id]\r\n\r\n            // from PocketArchitect dynamicly assigned\r\n            try {\r\n                if (this.architectConfig[id]) delete this.architectConfig[id]\r\n            } catch (err) {\r\n                // blah\r\n            }\r\n\r\n            // empty self\r\n            this.clearStoreTransfers(id)\r\n        }\r\n    }\r\n\r\n    class PocketModuleExt extends PocketModule {\r\n        constructor(opts, debug) {\r\n            super(opts, debug)\r\n        }\r\n\r\n        /**\r\n         * ### $removeProject\r\n         * - removes all Probes and references relating to `projectID`\r\n         * @param {*} projectID \r\n         */\r\n        $removeProject(projectID) {\r\n            projectID = !isString(projectID) ? '' : projectID\r\n            projectID = this.lastProjectID(projectID) // also updates last selector reference\r\n            this.deletePocketSet(projectID)\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * - you can also use it on concurent payloads to existing `projectID`, once initial project is created overy other call will update each Probe{}.data/status, based on payloadData\r\n         * @param {*} data `required`\r\n         * @param {*} async `override current opts.sync for this payload`\r\n         * @param {*} type optional, new/update, `update`: if we call on an existing project we can update `data/status properties` of all assigned tasks at once\r\n         * \r\n         * - `initialize new payload, for as many tasks`\r\n         * - `sets a multi task with instructions:`\r\n         * - `data = {\r\n                id: '', // 1 id for all tasks\r\n                tasks: [{ taskName: '', data: '', campaign: '' }]\r\n            }`\r\n\r\n         * - `call distributor and setDefer`\r\n         * @extends payload\r\n         */\r\n        $payload(data, async, type) {\r\n\r\n            const returnAs = (val) => {\r\n                this.d = val\r\n                return this\r\n            }\r\n            const asAsync = async !== undefined ? async : this.async // override if set\r\n            if (asAsync && isPromise(data)) return returnAs(data.then(z => this.payload(z, false, type), err => err))\r\n            if (!asAsync && !isPromise(data)) return returnAs(this.payload(data, false, type))\r\n            else {\r\n                if (this.debug) onerror('[pocket]', `[payload] with opts.async=true, data must be a promise, or do not set async when not a promise`)\r\n                if (asAsync) return returnAs(Promise.reject())\r\n                else return returnAs(false)\r\n            }\r\n        }\r\n\r\n        /**\r\n         * ### $project\r\n         * - `an alias on $payload(...), can use either`\r\n         * - refer to `$payload` for specifications :)\r\n         * @extends $payload\r\n         */\r\n        $project(...args) {\r\n            return this.$payload(...args)\r\n        }\r\n\r\n        /**\r\n          * - resolves currently active `$payload(...)`\r\n          * - `after completion of Pocket, instance data for all Probes is deleted`\r\n          * - can be called even before project was declared thanks to callback dispather `$projectSetAsync()`\r\n          * @param {*} payloadID ,required\r\n          * @param allowsMultiple optional, when set to true will allow multiple calls to resolved data\r\n          * @extends ready\r\n          */\r\n        $ready(payloadID, allowsMultiple = false) {\r\n\r\n            try {\r\n\r\n                const returnAs = (val) => {\r\n                    this.d = val\r\n                    if (this.d && !allowsMultiple) {\r\n                        \r\n                        this.d.catch((err) => {\r\n                            if (!this.disableWarnings) warn('[pocket]', err)\r\n                        })\r\n                    }\r\n                    return this\r\n                }\r\n\r\n                // sofl validation for non existant `payloadID` if called before declaration of a project\r\n                let _payloadID = this.lastProjectID(payloadID, false, null)\r\n                if (!payloadID && _payloadID) payloadID = _payloadID // grab last assigned id incase provided none\r\n\r\n                // in case it was called the second time, when already resolved!\r\n                if (this.projectsCache[payloadID] === 'complete' && !allowsMultiple) {\r\n                    return returnAs(Promise.reject(`[$ready] project: ${payloadID} already complete`))\r\n                }\r\n\r\n                if (this._ready_method_set[payloadID] !== undefined && !allowsMultiple) {\r\n                    if (this._ready_method_set[payloadID] === true) {\r\n                        return returnAs(Promise.reject(`[$ready] project: ${payloadID} already complete, cannot recall same $ready, ALLOW_MULTIPLE_FALSE`))\r\n                    }\r\n                    if (this._ready_method_set[payloadID] === false) {\r\n                        return returnAs(Promise.reject(`[$ready] project: ${payloadID} you already declared $ready somewhere else, this call is ignored, ALLOW_MULTIPLE_FALSE`))\r\n                    }\r\n                }\r\n\r\n                if (!_payloadID) throw (`payloadID must be set`)\r\n\r\n                // we wrap it if on ready project so it allows declaring `${$ready()}` even before $project was created, cool ha!\r\n                const p = this.$projectSetAsync(_payloadID).then(({ projectID }) => {\r\n                    return this.ready(projectID).then(z => {\r\n\r\n                        // NOTE to help problems with loops and using chaining with last selector\r\n                        // will gradualy delete project with specified timeout\r\n                        if (!this.deleteWithDelay) this.deletePocketSet(projectID)\r\n                        else {\r\n                            setTimeout(() => {\r\n                                this.deletePocketSet(projectID)\r\n                            }, this.deleteWithDelay)\r\n                        }\r\n\r\n                        this.projectsCache[projectID] = 'complete'\r\n                        this._ready_method_set[_payloadID] = true\r\n\r\n                        return z\r\n                    }, Promise.reject)\r\n                    \r\n                }, Promise.reject)\r\n\r\n                this._ready_method_set[_payloadID] = false\r\n                return returnAs(p)\r\n\r\n            } catch (error) {\r\n                if (!this.disableWarnings) onerror('[pocket]', error)\r\n                \r\n            }\r\n        }\r\n    }\r\n    const PocketArchitect = require('./Pocket.architect')(PocketModuleExt)\r\n    const PocketSelectors = require('./Pocket.selectors')(PocketArchitect)\r\n    return PocketSelectors\r\n}\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","`use strict`\r\n/**\r\n * SimpleQ\r\n * Developer: Eaglex ( http://eaglex.net ) \r\n * License: CC BY-SA ( https://creativecommons.org/licenses/by/4.0/legalcode )\r\n * - Simple Promise defer\r\n */\r\nfunction SimpleQ() {\r\n    \r\n    return new function() {\r\n        const promises = {}     \r\n        let __deferSet = null   \r\n        const defer =  new Promise((resolve, reject) => {\r\n            promises['resolve']= resolve      \r\n            promises['reject']= reject     \r\n        })\r\n\r\n        this.resolve = (data = null) => {\r\n            if (__deferSet) return this // already set\r\n            promises['resolve'](data)\r\n            __deferSet = true\r\n            return this\r\n        }\r\n\r\n        this.reject = (data = null) => {\r\n            if (__deferSet) return this // already set\r\n            promises['reject'](data)\r\n           __deferSet = true\r\n            return this\r\n        }\r\n\r\n        this.promise = () =>  defer     \r\n    }\r\n}\r\n\r\nmodule.exports = SimpleQ","/**\r\n * ### PocketLibs\r\n * - Top of the stack class of `PocketModule`, all `opt` initial `properties` are set here\r\n */\r\nmodule.exports = () => {\r\n    const { objectSize, warn, onerror, validID, copy, log, isString } = require('x-utils-es/umd')\r\n    return class PocketLibs {\r\n        /**\r\n         * @param {*} opts.async, when set, allow $payload(`data`) to be async object\r\n         * @param {*} opts.dispatcher, when set to true, loads external library `Dispatcher`\r\n         * @param {*} debug optional\r\n         */\r\n        constructor(opts = {}, debug) {\r\n            this.debug = debug || false\r\n            this.async = (opts || {}).async || null\r\n            this._onChange = (opts || {}).onChange || null // loads watch for changes Probe asset \r\n            this.completeOnNull = (opts || {}).completeOnNull || null // Allow Probe to complete even if data is null\r\n            this.disableWarnings = (opts || {}).disableWarnings // disable some less relevant warning messages\r\n            this.withDataBank = (opts || {}).withDataBank || false\r\n            // when set enables dispatcher to communicate directly with `probe.js`\r\n            this.dispatcher = (opts || {}).dispatcher ? require('../libs/dispatcher')() : null\r\n            this.pocket = {} // example this.pocket[`abc::taskName`] returns Probe{} Instance\r\n            this.payloadData = {}// each payload by id\r\n            this.lastPocketTimestamp = 0\r\n            this._lastProjectID = null // last cached reference\r\n            this._lastProbeID = null // last cached reference\r\n            this._$cached_data = {/** id:{} */ }// stores last captured data when calling `$data(..)`\r\n            this.$transfer_lastID = '' // set when we call `$transfer()` and reset after `$to()`\r\n            this._ready = {} // collect all ready example: `{id:Promise}`\r\n            this._ready_method_set = {/** [id]:true */}// ignore subsequent calls to $ready method \r\n            this.d = undefined // NOTE user reference data, carefull when using selectors from previous target, always access last\r\n            this._projectSet = {/** projectID:promise */ }\r\n            this._transferCached = [ /** {timestamp,fromProbeID,data} */]\r\n            this._projectSetDispatcher = {/** id:dispatcher */ }\r\n            this._projectSetAsync = {/** id:SQ */ } // collect all $projectSetAsync promisses\r\n            this._lastFilterList = {/** id:[probe references only] */ }\r\n            this.projectsCache = {/** [id]:'open/complete' */}// keep reference of completed projects, this variable is never purged\r\n            this.deleteWithDelay = (opts || {}).deleteWithDelay || 1000// after project is completed and $ready(..) is resolved set delay to when it should be deleted\r\n            // this.createArchitect() // only when pocketInstance is set\r\n        }\r\n\r\n        // NOTE abolished functional class, doesnt work well with es6 class\r\n        // createArchitect() {\r\n        //     if (this.architect && !this[\"architect_set\"]) {\r\n        //         try {\r\n        //             const Architect = require('./Pocket.architect')()\r\n        //             Architect.prototype = Object.create(this)\r\n        //             Architect.prototype.constructor = Architect             \r\n        //             Object.assign(this, new Architect())\r\n        //         } catch (err) {\r\n        //             console.log(`[createArchitect] error`, err)\r\n        //         }\r\n\r\n        //         this[\"architect_set\"] = true\r\n        //     }\r\n        // }\r\n\r\n        /**\r\n         * - return latest Probe by reference from `this._lastFilterList[projectID]`\r\n         * @param {*} projectID \r\n         */\r\n        // getProbesByFilterRef(projectID) {\r\n        //     if (!projectID) return []\r\n        //     if (!this._lastFilterList[projectID]) return []\r\n        //     return this._lastFilterList[projectID].reduce((n, ref, inx) => {\r\n        //         if (ref.id && ref.isNONE === undefined && this.pocket[ref.id]) n.push(this.pocket[ref.id])\r\n        //         else if (this.pocket[ref.id]) n.push({ id: ref.id, isNONE: true })\r\n        //         return n\r\n        //     }, []).filter(z => !!z)\r\n        // }\r\n\r\n        /**\r\n         * ### projectSetDispatcher\r\n         * - create new dispather to act as a callback for setting new projects in future. NOTE once project is created and using $architect /$project/$payload to update will not recreate `projectSetDispatcher`\r\n         * - works with `$projectSetAsync`\r\n         * @param {*} projectID \r\n         */\r\n        projectSetDispatcher(projectID) {\r\n            if (!projectID) {\r\n                if (this.debug) onerror(`[projectSetDispatcher] projectID must be set`)\r\n                return null\r\n            }\r\n            if (this._projectSetDispatcher[projectID]) return this._projectSetDispatcher[projectID]\r\n            if (!this._projectSetDispatcher[projectID]) this._projectSetDispatcher[projectID] = require('../libs/dispatcher')(projectID)\r\n            return this._projectSetDispatcher[projectID]\r\n        }\r\n\r\n        /**\r\n         * @param {*} projectID\r\n         * @returns array [Probe{},...] of selected project\r\n         */\r\n        projectProbeList(projectID) {\r\n            if (!projectID) return []\r\n            return Object.entries(this.pocket).filter(([id]) => id.indexOf(projectID) === 0).map(([id, probe]) => probe)\r\n        }\r\n\r\n        /**\r\n         * ### clearStoreTransfers\r\n         * - clear any pending transfers\r\n         * @param {*} projectID required\r\n         */\r\n        clearStoreTransfers(projectID = '') {\r\n            if (!projectID) return\r\n            let cleared = false\r\n            if (this._transferCached.length) {\r\n                this._transferCached.forEach((element, i) => {\r\n                    const { fromProbeID } = element || {}\r\n                    if (!fromProbeID) return\r\n                    if (fromProbeID.indexOf(projectID) !== -1) {\r\n                        this._transferCached.splice(i, 1)\r\n                        cleared = true\r\n                        if (this.debug) log('[pocket]', `[clearStoreTransfers] transferCached for probeID: ${fromProbeID} has been removed`)\r\n                    }\r\n                })\r\n            }\r\n            return cleared\r\n        }\r\n        /**\r\n         * ### storeTransfers\r\n         * - caches pending transfers when using `$transfer` with `$to()`\r\n         * - access last data by timestamp\r\n         * @param {*} fromProbeID  required\r\n         * @param {*} data required\r\n         */\r\n        storeTransfers(fromProbeID, data) {\r\n            this._transferCached.push({ timestamp: new Date().getTime(), fromProbeID, data })\r\n            return this._transferCached\r\n        }\r\n\r\n        /**\r\n         * ### accessLastValidTransfer\r\n         * returns latest transfer that is inRange from `fromAverageTimeHasPast` in `ms` vs current Date.getTime\r\n         * - removes _transferCached that was found \r\n         */\r\n        accessLastValidTransfer(fromAverageTimeHasPast = 100) {\r\n            if (!this._transferCached.length) return {}\r\n\r\n            this._transferCached.sort((a, b) => a.timestamp - b.timestamp)\r\n            const transferCachedCopy = copy(this._transferCached)\r\n\r\n            const coundCache = transferCachedCopy.reduce((n, el, i) => {\r\n                const { timestamp } = el\r\n\r\n                // calculate max wait between transfers, so if we have timeout we can only wait as long as `fromAverageTimeHasPast` \r\n                const currentOffset = new Date().getTime() + fromAverageTimeHasPast\r\n                const diff = (currentOffset - timestamp) - fromAverageTimeHasPast\r\n                const timeInRange = (currentOffset > timestamp) && diff <= fromAverageTimeHasPast\r\n                if (timeInRange) {\r\n                    n = el\r\n                    // delete found cache\r\n                    this._transferCached.splice(i, 1)\r\n                }\r\n                return n\r\n            }, {})\r\n\r\n            if (!objectSize(coundCache)) return {}\r\n            else return coundCache\r\n        }\r\n\r\n        /**\r\n         * ### selectByTask\r\n         * - works with `PocketSelectors class`, when `::taskNames, taskName` are specified, extracts full probeID by matching previous pointer reference and updates `lastProbeID()`        \r\n         * - returns valid probeID or null\r\n         * @param {*} probeID {*} required, but optional\r\n         */\r\n        selectByTask(taskOrProbeID = '', updateLastProbeID = null) {\r\n            taskOrProbeID = !isString(taskOrProbeID) ? '' : taskOrProbeID\r\n            if (!this.idRegexValid(taskOrProbeID) && taskOrProbeID) return null\r\n            if (taskOrProbeID.indexOf(':') > 0 && !this.pocket[taskOrProbeID]) {\r\n                if (this.debug) warn('[pocket]', `[selectByTask] when using '::' prefix selector, it should come at 0 index`)\r\n                return null\r\n            }\r\n\r\n            if (taskOrProbeID.split(\":\").length > 3 || taskOrProbeID.split(\":\").length === 2) {\r\n                if (this.debug) warn('[pocket]', `[selectByTask] wrong taskName :${taskOrProbeID}, allowed prefix is '::taskName'`)\r\n                return null\r\n            }\r\n\r\n            if (updateLastProbeID) this.lastProbeID(taskOrProbeID, true) // if a match we receive below updated `_lastProbeID` \r\n            if (this.pocket[taskOrProbeID]) {\r\n                if (updateLastProbeID) this.lastProbeID(taskOrProbeID)\r\n                return taskOrProbeID // we have a valid ref so use that\r\n            }\r\n\r\n            /**\r\n             * - generate valid probeID `${projectID}::${probeTaskName}` //\r\n             */\r\n            const dynamicProbeID = (name) => {\r\n                const n = name.split(\"::\")[1] || name // in case we are using prefixed taskName, example \"::cocacola\"\r\n                const matchByProbeID = (this._lastProbeID || '').indexOf(n) > 0\r\n                if (matchByProbeID && n) return this._lastProbeID\r\n                else if (this._lastProjectID && n) return this._lastProjectID + `::` + n\r\n                return this._lastProbeID\r\n            }\r\n\r\n            const newProbeID = dynamicProbeID(taskOrProbeID)\r\n            if (!newProbeID) {\r\n                if (this.debug) warn('[pocket]', `[selectByTask] newProbeID was not found from taskOrProbeID: ${taskOrProbeID}`)\r\n            } else if (updateLastProbeID) this.lastProbeID(newProbeID)\r\n            return newProbeID\r\n        }\r\n\r\n        /**\r\n         * ### lastProjectID\r\n         * - every project is a job initiated by payload, so `payload.id === lastProjectID()`\r\n         * @param type strictly validate against scoped projecjID\r\n         */\r\n        lastProjectID(projectID = '', debug = null, type = 'strict') {\r\n            if (!projectID && this._lastProjectID) projectID = this._lastProjectID\r\n            if (projectID) projectID = this.validProjectID(projectID, debug)\r\n            if (projectID && this.payloadData[projectID]) this._lastProjectID = projectID\r\n            if (!this.payloadData[projectID] && type === 'strict') return null\r\n            if (!projectID) return null\r\n            if (projectID && !this._lastProjectID) this._lastProjectID = projectID\r\n            return projectID\r\n        }\r\n\r\n        /**\r\n         * ### lastProbeID\r\n         * - return last reference to probeID\r\n         * - cache with `_lastProbeID`\r\n         * @param {*} probeID \r\n         */\r\n        lastProbeID(probeID = '', debug = null) {\r\n            if (!probeID && this._lastProbeID) probeID = this._lastProbeID\r\n            if (probeID) probeID = this.validProbe(probeID, debug)\r\n            if (probeID && this.pocket[probeID]) this._lastProbeID = probeID\r\n            if (!probeID) return null\r\n            if (!this.pocket[probeID]) return null\r\n            return probeID\r\n        }\r\n\r\n        /**\r\n         * ### validProjectID\r\n         * - `test if projectID is valid`\r\n         * - return valid id\r\n         * @param {*} id required\r\n         */\r\n        validProjectID(id, debug = null) {\r\n            id = validID(id)\r\n            if (!id) return null\r\n            if ((id || '').split(' ').length > 1) return null\r\n            if (!this.idRegexValid(id)) return null\r\n            return id\r\n        }\r\n\r\n        /**\r\n         * ### validProbe\r\n         * - returns a valid probe\r\n         * @param {*} probeID required\r\n         */\r\n        validProbe(probeID, debug = null) {\r\n            probeID = validID(probeID)\r\n            if (!probeID) return null\r\n            if (!this.idRegexValid(probeID)) return\r\n            if (probeID.indexOf(`::`) === -1) return null\r\n            // if (!this.pocket[probeID]) {\r\n            //     if (this.debug && debug === null) warn('[pocket]',`[validProbe] did not find probe with probeID ${probeID}`)\r\n            //     return null\r\n            // }\r\n            return probeID\r\n        }\r\n\r\n        /**\r\n         * ### dataPropSelector\r\n         * - works with `$data()` and `$cached()` user selectors \r\n         * - refer to `PocketSelectors` module\r\n         * @param {*} probeID required\r\n         * @param {*} dataProp optional\r\n         * @param {*} self optional\r\n         * @param {*} probeData{} required our referencing probeData{}\r\n         */\r\n        dataPropSelector(type = 'data()', probeID = '', dataProp = {}, self = false, probeData = {}) {\r\n            let selectedData\r\n            /**\r\n             * NOTE if calling via `$cached()`,  `probeData` already comes as `this._$cached_data` so dont need to cache  it again!\r\n             */\r\n            try {\r\n                /**\r\n                  * NOTE IMPORTANT\r\n                  * assembly order: `dataProp < probeData > selectedData`\r\n                  * if are asking for multiple, example `selectedData:{a,b,value:1111}`, will return those available \r\n                  * as an Object{}. But if asking for only 1 `selectedData:{value:1111}`, will return the value `11111`, only because we know what we asked for initially\r\n                  */\r\n                selectedData = Object.entries(dataProp).reduce((n, [k, val], i) => {\r\n                    if (probeData[k] !== undefined) n[k] = probeData[k]\r\n                    return n\r\n                }, {})\r\n\r\n                if (!objectSize(selectedData)) selectedData = undefined\r\n\r\n                // selct only value if `dataProp` === `selectedData` is size ( 1 + 1 === 2 )\r\n                if (objectSize(selectedData) + objectSize(dataProp) === 2) selectedData = Object.values(selectedData).shift()\r\n\r\n                // if coming from `$data()` we cache our data \r\n                if (type === 'data()') this._$cached_data[probeID] = selectedData\r\n                return self ? this : selectedData\r\n            } catch (err) {\r\n                if (this.debug) warn('[pocket]', `[$data] no dataProp found on probeID: ${probeID}`)\r\n                if (type === 'data()') this._$cached_data[probeID] = selectedData\r\n                return self ? this : selectedData\r\n            }\r\n        }\r\n\r\n        idRegexValid(str) {\r\n            const pat = /[`~!@#$%^&*()\\=?;'\",.<>\\{\\}\\[\\]\\\\\\/]/gi\r\n            const regx = new RegExp(pat, 'gi')\r\n            if (regx.test(str)) {\r\n                // NOT ALWAYS NEEDED TO DISPLAY THE ERROR\r\n                // if (this.debug) onerror(`your id is invalid, allowed chars: ${pat}`)\r\n                return null\r\n            }\r\n            return true\r\n        }\r\n\r\n        /**\r\n         * ### probeProps\r\n         * - `each probe props that can be available and send on ready`\r\n         * - `order is important, keep 'status' last`\r\n         * - only updatable props are: `'campaign', 'data', 'error', 'ref', 'status'(limited)`\r\n         */\r\n        get probeProps() {\r\n            return ['campaign', 'data', 'task', 'ref', 'error', 'id', 'status']\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Set new probe model\r\n * - every new task has a set of requirements controlled by `statusStackOrder` in status setter. Once status is `complete` and data available, information is send and probe is blocked.\r\n * methods:`{get,all}` props: `{id,data,tasks,status}`\r\n */\r\nexports.Probe = () => {\r\n    // const messageCODE = require('./errors') // DISPLAY MESSAGES WITH CODE\r\n    const { isString, isArray, warn, log, isNumber, onerror, last, copy, isObject, isFunction } = require('x-utils-es/umd')\r\n    const ProbeDataBank = require('./Probe.dataBank')\r\n    const sq = require('simple-q') // nice and simple promise/defer by `eaglex.net`\r\n    return class Probe extends ProbeDataBank {\r\n        /**\r\n         * @param {*} props.id required, case sensitive, all will be toLowerCase() \r\n         * @param {*} props.task once set cannot be changed\r\n         * @param {*} props.campaign optional, once set cannot be changed\r\n         * @param {*} props.data optional any value except undefind, cannot be change once status set to `complete` or send\r\n         * @param {*} props.status required to control Probe actions\r\n         * @param {*} opts.emitter optional, dispatcher/emmiter available if not null\r\n         * @param {*} opts.completeOnNull override complete setting even if data was never set\r\n         * @param {*} debug \r\n         */\r\n        constructor(props = {}, opts = {}, debug) {\r\n            super(props, opts, debug)\r\n\r\n            this.debug = debug || false\r\n            if (isNumber(props.id) || props.id) props.id = props.id.toString()\r\n            if (!props.task || !isString(props.task)) throw ('task as string is required')\r\n            this._id = null\r\n            this._error = []\r\n            this._ref = null\r\n            this._task = null\r\n            this._status = null\r\n            this._data = null\r\n            this._campaign = null\r\n            this._dataIndex = 0\r\n            this._statusIndex = 0\r\n            this._statusAsync = [/** {timestamp:promise} */] // dynamic promise changer\r\n            this.task = props.task\r\n            this.id = props.id\r\n            this.status = 'open'\r\n            this._sealed = false // once the pocket is send of complete we set to true\r\n            \r\n            this._onChange = opts.onChange || null\r\n            this._onchangeDispatch = null // loads dispatcher when `opts.onChange=true` is set\r\n            this.emitter = opts.emitter || null\r\n            // this will allow storing old data in to an array when curent data gets updated via setter\r\n            this.withDataBank = opts.withDataBank || false\r\n            this.completeOnNull = opts.completeOnNull || null // when true allows completion on data still at initial null state\r\n            this.disableWarnings = (opts || {}).disableWarnings // disable some less relevant warning messages\r\n\r\n            // assign initial data if differs from default\r\n            if (props.ref !== this._ref) this.ref = props.ref\r\n            if (props.data !== this._data) this.data = props.data\r\n            if (props.campaign) this.campaign = props.campaign\r\n\r\n            this._completeAsync = sq()\r\n        }\r\n\r\n        /**\r\n         * nice and easy, save some coding, and added security\r\n         */\r\n        get sq() {\r\n            if (this[`_sq`]) return this[`_sq`]\r\n            this[`_sq`] = sq()\r\n            return this[`_sq`]\r\n        }\r\n\r\n        set id(v) {\r\n            if (this._id) {\r\n                if (this.debug) warn('[pocket]', `cannot update already set id: ${this._id}`)\r\n                return\r\n            }\r\n            if (!v) throw ('id is required')\r\n            if (v.split(' ').length > 1) throw ('each id cannot have spaces')\r\n            if (v.indexOf(`::`) === -1) throw ('each id must be of format id::taskName')\r\n            if (v.indexOf(`:::`) !== -1) throw ('each id must be of format id::taskName')\r\n\r\n            // validate chars\r\n            const pat = /[`~!@#$%^&*()\\=?;'\",.<>\\{\\}\\[\\]\\\\\\/]/gi\r\n            const regx = new RegExp(pat, 'gi')\r\n            if (regx.test(v)) throw (`your id is invalid, allowed chars: ${pat}`)\r\n\r\n            v = v.replace(/ /gi, '_').toLowerCase()\r\n\r\n            if (v.indexOf(this._task) === -1) {\r\n                throw (`wrong id setup, your id should make up the taks name, example: id='cocacola::drink'`)\r\n            }\r\n\r\n            this._id = v\r\n        }\r\n\r\n        get id() {\r\n            return this._id\r\n        }\r\n\r\n        /**\r\n         * - collect all errors in to an array\r\n         * - no empty error values will be set\r\n         */\r\n        set error(v) {\r\n            if (!v) return\r\n            if (!(v || []).length && isArray(v)) return\r\n\r\n            // in case data is in its initial status state = 'open' we need to update it to change `_dataIndex`\r\n            //  if (this.data === null) this.data = false\r\n            // NOTE  we now use `this.completeOnNull` so can ignore above logic\r\n            this._error.push(v)\r\n            this._error = this._error.filter(z => !!z)\r\n            this.dispatchChange('error')\r\n        }\r\n\r\n        /**\r\n         * @returns an arrays of errors or null\r\n         */\r\n        get error() {\r\n            if (!this._error.length) return null\r\n            return this._error\r\n        }\r\n\r\n        get ref() {\r\n            return this._ref\r\n        }\r\n\r\n        /**\r\n         * - acceps string, can only be set when status isnt complete\r\n         * - can be used to find your Pocket by particular `ref`\r\n         */\r\n        set ref(v) {\r\n            if (!v) return\r\n            if (!isString(v)) {\r\n                warn('[pocket]', `[ref] must be a string`)\r\n                return\r\n            }\r\n            if (this.status === 'complete' || this.status === 'send') return\r\n\r\n            this._ref = v\r\n            this.dispatchChange('ref')\r\n        }\r\n\r\n        get campaign() {\r\n            return this._campaign\r\n        }\r\n\r\n        set campaign(v) {\r\n            if (v === undefined) return\r\n            if (this._campaign) {\r\n                if (this.debug && !this.disableWarnings) warn('[pocket]', `cannot update already set campaign ${this._campaign}`)\r\n                return\r\n            }\r\n            if (!v) return\r\n            if (!isString(v)) {\r\n                if (this.debug) warn('[pocket]', `campaign must be a string`, v)\r\n                return\r\n            }\r\n\r\n            this._campaign = v\r\n            this.dispatchChange('campaign')\r\n        }\r\n\r\n        set task(v) {\r\n            if (v === undefined) return\r\n            if (this._task) {\r\n                if (this.debug && !this.disableWarnings) warn('[pocket]', `cannot update already set task`)\r\n                return\r\n            }\r\n\r\n            if (!v) return\r\n            if (!isString(v)) {\r\n                if (this.debug) warn('[pocket]', `task must be a string`)\r\n                return\r\n            }\r\n            if (v.indexOf(\"::\") !== -1) throw ('task seperator :: is restricted')\r\n            if (v.split(' ').length > 1) throw ('task cannot have spaces, use seperators: _+')\r\n            const pat = /[`~!@#$%^&*()\\=?;'\",.<>\\{\\}\\[\\]\\\\\\/]/gi\r\n            const regx = new RegExp(pat, 'gi')\r\n            if (regx.test(v)) throw (`your task is invalid, allowed chars: ${pat}`)\r\n\r\n            this._task = v.replace(/ /gi, '_').toLowerCase()// every task must be valid with required \r\n           \r\n        }\r\n\r\n        get task() {\r\n            return this._task\r\n        }\r\n\r\n        set data(v) {\r\n            if (v === undefined) return\r\n            /**\r\n            * cannot be updated uppon status is send || complete\r\n            */\r\n            const complete = this.status === 'complete' || this.status === 'send'\r\n            if (complete) {\r\n                // NOTE this can also happen if you are using $transfer().$to from `PocketModule` that is a delayed\r\n                if (this.debug && !this.disableWarnings) warn('[pocket]', `you cannot update data once the status is complete or send`)\r\n                return null\r\n            }\r\n\r\n            this._dataIndex++\r\n            if (this.status === 'open' && this._data !== null && this._dataIndex > 1) this.status = 'updated'\r\n            \r\n            this._data = v\r\n            if (this.withDataBank) this.dataBank = v\r\n            this.dispatchChange('data')\r\n        }\r\n\r\n        get data() {\r\n            return this._data\r\n        }\r\n\r\n        /**\r\n         * ### update\r\n         * - update data of current Probe{}.data\r\n         * @param {*} data:any, required\r\n         * @param {*} merge:Boolean, optional for merging object to this.data\r\n         */\r\n        update(data, merge = null) {\r\n            if (this.status === 'complete' || this.status === 'send') {\r\n                if (this.debug && !this.disableWarnings) warn(`[Probe][update] cannot update data on complete status`)\r\n                return this\r\n            }\r\n            if (!isObject(data) && merge) {\r\n                if (this.debug) warn('[pocket]', `[Probe][update] cannot update none object 'data' with option 'merge=true' set`)\r\n                return this\r\n            }\r\n            if (isObject(data) && merge) this.data = Object.assign({}, this.data, data)\r\n            else if (data !== undefined) this.data = data\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * forward motion `status` update is allowed\r\n         * `value`: importance que\r\n         * `set`: if status already set\r\n         */\r\n        get statusStackOrder() {\r\n            return {\r\n                open: { value: 1, set: false },\r\n                updated: { value: 2, set: false },\r\n                complete: { value: 3, set: false },\r\n                send: { value: 4, set: false },\r\n                error: { value: 5, set: false }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * allow status: open | updated | complete | send | error\r\n         * `open`: status is set when pocked is initialized\r\n         * `updated`: status is set when data is updated\r\n         * `complete`: status is set when you want to complete and discard probe\r\n         * `send`: once the status was set `complete` data is resolved first then status is set as `send`.\r\n         * and Probe is locked, cannot be interacted with. Follow the strategic order set by `statusStackOrder`\r\n         * `error` acts like complete, it will resolve() last available data and block the Probe\r\n         */\r\n        get status() {\r\n            return this._status\r\n        }\r\n\r\n        set status(v) {\r\n            // order of status and allowed values\r\n            ((stat) => {\r\n                try {\r\n                    // meaning do not allow any status changes beond `updated`\r\n                    if (this.statusStackOrder[stat].value > 2 && this.statusStackOrder[stat].set === true) return false\r\n                } catch (err) {\r\n                    onerror('statusStackOrder invalid status')\r\n                }\r\n\r\n                // if (this._status === 'send' && (stat === 'complete' || stat ==='send')) {\r\n                //     if (this.debug) warn(`cannot update status if already complete, id:${this.id}`)\r\n                //     return false\r\n                // }\r\n\r\n                switch (stat) {\r\n                    case 'open':\r\n                        if (this._status === 'updated') {\r\n                            if (this.debug) warn('[pocket]', `cannot set status back to open once set to updated`)\r\n                            break\r\n                        }\r\n                        this._status = stat\r\n                        this.statusStackOrder[stat].set = true\r\n                        this.onOpenStatus(v) // emit probe when status opens\r\n                        this.setStatusAsync = stat\r\n                        this.dispatchChange('status')\r\n                        break\r\n\r\n                    case 'updated':\r\n                        if (this._status === 'complete') {\r\n                            if (this.debug) warn('[pocket]', `cannot update status to 'updated' then previously set to 'complete'`)\r\n                            break\r\n                        }\r\n\r\n                        if (this._dataIndex > 0) {\r\n                            this._status = stat\r\n                            this.statusStackOrder[stat].set = true\r\n                            this.setStatusAsync = stat\r\n                            this.dispatchChange('status')\r\n                            if (this.debug) log(`id:${this.id}, data updated`)\r\n                        }\r\n\r\n                        break\r\n\r\n                    case 'complete':\r\n                        if (this.data === null && this.completeOnNull !== true) {\r\n                            if (this.debug) warn('[pocket]', `[status] cannot complete status because data is null, to complete you set data prop to false`)\r\n                            break\r\n                        }\r\n                        this.statusStackOrder[stat].set = true\r\n                        this.setStatusAsync = stat\r\n                        // setTimeout(()=>{\r\n                        this._status = stat\r\n                        this.dispatchChange('status')\r\n                        this.onComplete(v) // resolve probe when status complete\r\n                        //  })\r\n                       \r\n                        break\r\n\r\n                    case 'send':\r\n                        if (this._status !== 'complete') {\r\n                            if (this.debug) warn('[pocket]', `cannot update status to 'send' then previously not set to 'complete'`)\r\n                            break\r\n                        }\r\n                        this._status = stat\r\n                        this.statusStackOrder[stat].set = true\r\n                        this.setStatusAsync = stat\r\n                        this._completeAsync.resolve({ status: this._status, id: this.id })\r\n                        this.dispatchChange('status')\r\n                        break\r\n\r\n                    case 'error':\r\n                        if (this._status === 'complete') return\r\n                        // when we have error we need to inform what happen, and close the Probe\r\n\r\n                        this.statusStackOrder[stat].set = true\r\n                        this.setStatusAsync = stat\r\n                        this.dispatchChange('status')\r\n                        this.onComplete(v) // resolve probe when status complete                     \r\n                        break\r\n\r\n                    default:\r\n                        if (this.debug) warn('[pocket]', `id:${this.id},  you set invalid status: ${stat}, nothing changed`)\r\n                }\r\n            })(v)\r\n        }\r\n\r\n        /**\r\n         * - works with `statusAsync`\r\n         * - (1.) setter creates our new sq() promise every time, and allows use or resolve \r\n         * - to use example: setStatusAsync.resolve()\r\n         */\r\n        set setStatusAsync(v) {\r\n            // 'v'  set to anything to initiate setter\r\n            const timestamp = new Date().getTime()\r\n            const p = { timestamp, p: sq() }\r\n            this._statusAsync.push(p)\r\n        }\r\n\r\n        get setStatusAsync() {\r\n            const lastPromise = last(this._statusAsync.sort((a, b) => a.timestamp - b.timestamp).map(z => z['p']))\r\n            lastPromise.resolve(copy(this.status)) // << we are unly returning\r\n            return lastPromise\r\n        }\r\n\r\n        /**\r\n         * ### statusAsync\r\n         * - dynamic promise resolver with `Simple Q` from `eaglex.net`\r\n         * - works with `setStatusAsync` setter/getter\r\n         * - return last 'resolve' status from last `timestamp` setting\r\n         */\r\n        get getStatusAsync() {\r\n            return this.setStatusAsync.promise()\r\n        }\r\n\r\n        /**\r\n         * - when status is set to complete or send, the promise will then be resolved\r\n         * @returns {status, id}\r\n         */\r\n        get completeAsync() {\r\n            return this._completeAsync.promise()\r\n        }\r\n\r\n        /**\r\n         * - alias of `getStatusAsync`\r\n         * @readonly\r\n         */\r\n        get statusAsync() {\r\n            return this.getStatusAsync\r\n        }\r\n\r\n        all() {\r\n\r\n            const d = { error: this.error, ref: this.ref, campaign: this.campaign, data: this.data, id: this.id, task: this.task, status: this.status }\r\n            if (this.withDataBank) d.dataBank = copy(this.dataBank)\r\n            return d\r\n        }\r\n\r\n        /**\r\n         * - can be used when `opts.onChange=true` is set\r\n         * - changes are observed for `[ data,status,ref,error,campaign,status:complete]`\r\n         * @param {*} cb(data,id) callback returns updated value in real time\r\n         * @returns self\r\n         */\r\n        onChange(cb, watch = 'all') {\r\n            if (!this._onChange) {\r\n                if (this.debug) warn('[pocket]', `[onChange] to use need to set opts.onChange=true`)\r\n                return this\r\n            }\r\n            if (!isFunction(cb)) {\r\n                if (this.debug) warn(`[onChange] cb must be a function`)\r\n                return this\r\n            }\r\n            let availableWatch = ['all', 'data', 'status', 'ref', 'error', 'campaign']\r\n\r\n            // allo lookout for status complete event only when selected to watch\r\n            availableWatch = [].concat(availableWatch, ['status:complete'])\r\n\r\n            if (!availableWatch.includes(watch)) {\r\n                if (this.debug) warn('[pocket]', `[onChange] no watch available for ${watch}`)\r\n                return this\r\n            }\r\n\r\n            let statIndex = availableWatch.indexOf('status:complete')\r\n            availableWatch.splice(statIndex, 1)\r\n\r\n            const self = this\r\n\r\n            if (!this.onchangeDispatch) {\r\n                if (this.debug) warn('[pocket]', `[onChange] onchangeDispatch no longer active`)\r\n                return this\r\n            }\r\n\r\n            this.onchangeDispatch.initListener().subscribe(function (data, id) {\r\n                // NOTE data['changed'] // returned in dispatch only provided name of asset changed\r\n                // no point to carry data if we can access it direct\r\n                if (data['changed'] && watch === 'all') {\r\n                    cb.bind(self)(copy(self.all()), id)\r\n                    return\r\n                }\r\n\r\n                /** \r\n                 * on status complete return all data copy in callback\r\n                */\r\n                if (watch === 'status:complete') {\r\n\r\n                    if (data['changed'] === 'status' && (self['status'] === 'send' || self['status'] === 'complete' && !self._sealed)) {\r\n                        let d = {\r\n                            ...copy(self.all()),\r\n                            status: 'complete'\r\n                        }\r\n                        cb.bind(self)(d, id)\r\n                        self._sealed = true\r\n                    }  \r\n                    return this\r\n                }\r\n                 \r\n                if (data['changed'] === watch && self[watch] !== undefined) {\r\n                    cb.bind(self)(copy(self[watch]), id)                 \r\n                }          \r\n            })\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * - works with onchangeDispatch, onChange \r\n         * - emmits next value to `onchangeDispatch` listener\r\n         * @param {*} changedName required, provide name of Probe prop to alert dispatcher what has changed\r\n         * @returns self\r\n         */\r\n        dispatchChange(changedName) {\r\n            if (!this._onChange) {\r\n                return null\r\n            }\r\n            if (!this.onchangeDispatch) {\r\n                return null\r\n            }\r\n            this.onchangeDispatch.initListener().next({ changed: changedName })\r\n            return true\r\n        }\r\n\r\n        /**\r\n         * initiates dispatcher to handle on change value of [data,status,ref,error,campaign]\r\n         * @returns dispatcher instance\r\n         */\r\n        get onchangeDispatch() {\r\n            if (!this._onChange) {\r\n                if (this.debug) warn('[pocket]', `[onchangeDispatch] to use need to set opts.onChange=true`)\r\n                return null\r\n            }\r\n\r\n            if (this._onchangeDispatch) {\r\n                return this._onchangeDispatch\r\n            }\r\n\r\n            this._onchangeDispatch = require('../libs/dispatcher')(this.id)\r\n            return this._onchangeDispatch\r\n        }\r\n\r\n        /**\r\n         * status watch, when current status changes execute send\r\n         * @param {*} status\r\n         */\r\n        onComplete(status) {\r\n            if ((status === 'complete' || status === 'error') && this._status !== 'send' && (this._dataIndex > 0 || this.completeOnNull === true)) {\r\n\r\n                if (this.emitter) {\r\n                    setTimeout(() => {\r\n                        this.emitter({ probe: this, status })\r\n                    })\r\n                }\r\n                this._status = 'send'\r\n                this.sq.resolve({ probe: this.all() })  \r\n\r\n                setTimeout(() => {\r\n                // in case delete listener when data complete     \r\n                    if (this.onchangeDispatch) this.onchangeDispatch.del()\r\n                })\r\n            }\r\n        }\r\n\r\n        /**\r\n         * do something on open task, this means we start request for data\r\n         * @param {*} status\r\n         */\r\n        onOpenStatus(status) {\r\n            if (status === 'open') {\r\n                // return this probe and update it when its complete\r\n                if (this.emitter) {\r\n                    setTimeout(() => {\r\n                        this.emitter({ probe: this, status: 'open' })\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n* Probe databank extention   \r\n* \r\n**/\r\n\r\nconst { uniqBy } = require('x-utils-es/umd')\r\nclass ProbeDataBank {\r\n   \r\n    constructor() {\r\n        this._dataBank = []\r\n    }\r\n\r\n    /**\r\n     * accumulate data into historic array\r\n     * this data is never cleared, unless we unset protected var\r\n     * @memberof ProbeDataBank\r\n     * @returns {*} [{data,data_id},...]\r\n     */\r\n    set dataBank(v) {\r\n        this._dataBank.push({ data: v, data_id: new Date().getTime().toString() })\r\n        this._dataBank = this._dataBank.filter(n => n.data !== undefined)\r\n    }\r\n\r\n    get dataBank() {\r\n        return uniqBy((this._dataBank || []), 'data_id')\r\n    }\r\n}\r\n\r\nmodule.exports = ProbeDataBank\r\n","\r\n/** \r\n    * ### Architect\r\n    * a more in depth project architecture setup, allowing more robust configuration, munipulation and data flows\r\n*/\r\nmodule.exports = (Pocket) => {\r\n\r\n    const { objectSize, isFunction, onerror, warn, log, isString } = require('x-utils-es/umd')\r\n    // work with \r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\r\n\r\n    /**\r\n     * protected prototype exluded from `Architect`\r\n     */\r\n    function ArchitectModel() {\r\n        this._architectVal = null\r\n        this.architect = Object.create(ArchitectModel.prototype, {\r\n            value: {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => {\r\n                    return this._architectVal\r\n                },\r\n                set: (v) => {\r\n                    if (!objectSize(v)) return\r\n                    this._architectVal = v\r\n                    log('[pocket]', `[architect] updated`)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return class Architect extends Pocket {\r\n        constructor(opts, debug) {\r\n            super(opts, debug)\r\n\r\n            this.architectConfig = {}\r\n            const archModel = new ArchitectModel()\r\n            this.architectMod = archModel.architect\r\n        }\r\n\r\n        setArchitect(projectID, val) {\r\n            if (this.architectConfig[projectID] === undefined) this.architectConfig[projectID] = this.architectMod\r\n            this.architectConfig[projectID]['value'] = Object.assign({}, this.architectConfig[projectID]['value'], val)\r\n            return this\r\n        }\r\n\r\n        getArchitect(projectID) {\r\n            return (this.architectConfig[projectID] || {})['value']\r\n        }\r\n\r\n        /** \r\n       * @param assetName string, specify the name you chose in your `$architect(...)` declaration,\r\n       * @param asCallback when exists, return asset as callback\r\n       * @param projectID optional, update selector and return desired asset\r\n       * @returns if callback is returned the same value is returned\r\n      */\r\n        asset(assetName, asCallback, projectID) {\r\n            if (!isFunction(asCallback)) {\r\n                if (this.debug) warn('[pocket]', `[$asset] asCallback must be a function`)\r\n                return null\r\n            }\r\n            // reserved names\r\n            if (assetName === 'project' || assetName === 'cache') {\r\n                if (this.debug) warn('[pocket]', `[$asset] 'project, cache' are  restricted`)\r\n                return undefined\r\n            }\r\n            const lastProject = this.lastProjectID(projectID) // in case we are calling `$architect` on existing project\r\n            projectID = this.validProjectID(lastProject || projectID)\r\n\r\n            if (this.getArchitect(projectID)) {\r\n                if (this.getArchitect(projectID)[assetName] !== undefined) {\r\n                    return asCallback.call(this, this.getArchitect(projectID)[assetName])\r\n                } else {\r\n                    if (this.debug) warn('[pocket]', `[$asset] assetName for architect doesnt exist`)\r\n                    return null\r\n                }\r\n            } else {\r\n                if (this.debug) warn('[pocket]', `[$asset] architectConfig for assetName doesnt exist`)\r\n                return null\r\n            }\r\n        }\r\n\r\n        /** \r\n          * - can be used as a project setter same as `$payload` or `$project`, but with additional configuration\r\n          * \r\n          * @param cb required, must return project settings: `{project:{payloadData}, asset:{value, name}, cache:{project, asset}}\r\n          * @param projectID optional\r\n          * @returns self\r\n         */\r\n        architect(cb, projectID) {\r\n\r\n            if (!isFunction(cb)) {\r\n                if (this.debug) onerror('[pocket]', `[$architect] callback must be set`)\r\n                return this\r\n            }\r\n\r\n            const config = cb.call(this/** ,?? */)\r\n\r\n            if (!objectSize(config)) {\r\n                if (this.debug) onerror('[pocket]', `[architect] must return a valid object settings {project, asset}, at least 1 is required`)\r\n                return this\r\n            }\r\n\r\n            const configProjectID = (config['project'] || {}).id\r\n            const lastProject = this.lastProjectID(projectID) // in case we are calling `$architect` on existing project\r\n            projectID = this.validProjectID(lastProject || projectID || configProjectID)\r\n\r\n            if (!projectID) {\r\n                if (this.debug) onerror('[pocket]', `[$architect] if this is a new project, you must specify projectID`)\r\n                return this\r\n            }\r\n            const validConfig = Object.entries(config).reduce((n, [k, value]) => {\r\n                if (['project', 'asset', 'cache'].indexOf(k) !== -1) n[k] = value\r\n                return n\r\n            }, {})\r\n\r\n            // default setting for `architect.cache` if getArchitect not stored\r\n            if (!(this.getArchitect(projectID) || {})['cache']) {\r\n                const defaults = { project: false, asset: false }\r\n                if (!validConfig['cache']) validConfig['cache'] = defaults\r\n\r\n                this.setArchitect(projectID, {\r\n                    'cache': validConfig['cache']\r\n                })\r\n\r\n            } else validConfig['cache'] = this.getArchitect(projectID)['cache']\r\n\r\n            for (let k in validConfig) {\r\n                const item = validConfig[k]\r\n                // get last cache overide\r\n                const cached = validConfig['cache'][k] === true && (k === 'project' || k === 'asset')\r\n\r\n                if (k === 'project') {\r\n                    // item['async'] item['type'] .. can include `async` and `type` \r\n                    try {\r\n                        if (cached && this.getArchitect(projectID)[k]) continue\r\n                    } catch (err) {\r\n                        // \r\n                    }\r\n\r\n                    this.setArchitect(projectID,\r\n                        { project: this.$payload(item, item['async'], item['type']).d }\r\n                    )\r\n                }\r\n\r\n                if (k === 'asset') {\r\n                    if (!isString(item['name']) || item['value'] === undefined) {\r\n                        if (this.debug) warn('[pocket]', `[$architect] asset must include {value, name}`)\r\n                        return this\r\n                    }\r\n                    if (item['name'] === 'project' || item['name'] === 'cache') {\r\n                        if (this.debug) warn('[pocket]', `[$architect] asset props, \"project, cache\" are reserved`)\r\n                        return this\r\n                    }\r\n                    try {\r\n                        if (cached && this.getArchitect(projectID)[item['name']]) continue\r\n                    } catch (err) {\r\n                        // \r\n                    }\r\n\r\n                    // if already exists, same assets will be overriten and new will be created\r\n                    this.setArchitect(projectID, {\r\n                        [item['name']]: item['value']\r\n                    })\r\n                }\r\n            }\r\n            return this\r\n        }\r\n\r\n    }\r\n}\r\n","\r\n/**\r\n * ### PocketSelectors\r\n * - Extends PocketModule using selectors for better access to Probes\r\n * - allow selecttion to refference by, example:  `taskName`, `::taskName` and `${projectID}::taskName`, thanks to `selectByTask()` method\r\n */\r\nmodule.exports = (PocketModule) => {\r\n    const { copy, warn, isArray, onerror, objectSize, isString, uniq, isFunction } = require('x-utils-es/umd')\r\n    return class PocketSelectors extends PocketModule {\r\n\r\n        constructor(opts, debug) {\r\n            super(opts, debug)\r\n        }\r\n\r\n        /** \r\n         * - can be used as a project setter same as `$payload` or `$project`, but with additional configuration\r\n         * @extends Architect\r\n         * @param cb required, must return project settings: `{project:{payloadData}, asset:{value, name}}\r\n         * @param projectID optional\r\n         * @returns self\r\n        */\r\n        $architect(...args) {     \r\n            return this.architect(...args)\r\n        }\r\n\r\n        /** \r\n         * @param assetName string, specify the name you chose in your `$architect(...)` declaration\r\n         * @param projectID optional, update selector and return desired asset\r\n         * @returns asset by name or null\r\n         * @extends Architect\r\n        */\r\n        $asset(...args) {\r\n            return this.asset(...args)\r\n        }\r\n\r\n        /**\r\n         * - check is probe exists on PocketModule\r\n         * @param {*} probeID required, can specify `::taskName` or full id `{projectID}::{probeID}`\r\n         * @returns boolean\r\n         */\r\n        $exists(probeID) {\r\n            return !!this.selectByTask(probeID)\r\n        }\r\n\r\n        /**\r\n         * @param projectID required\r\n         * @returns boolean `true/false/null`, determined by project completion\r\n         */\r\n        $projectComplete(projectID) {\r\n            if (!this.projectsCache[projectID]) return null\r\n            return this.projectsCache[projectID] === 'complete'\r\n        }\r\n\r\n        /**\r\n         * ### $projectSet\r\n         * - use it to check if project already available, it is similar to `$projectSetAsync` but not a promise, returns current status, not in future\r\n         * @param {*} projectID required\r\n         */\r\n        $projectSet(projectID = '') {\r\n            projectID = this.validProjectID(projectID)\r\n            if (this.payloadData[projectID]) return true\r\n            return false\r\n        }\r\n\r\n        /**\r\n         * - run conditional statement within callback, so we can keep chaining in the same block\r\n         * @param cb required, inside callback access to self for PocketModule, or for Probe{}, depending on `projectID/probeID` id specified\r\n         * @param `projectID/probeID` optional, specify either `projectID` or `probeID`, defaults to last `projectID`\r\n         * @returns by default eturns Pocket/self, or any true value passed inside callback\r\n         */\r\n        $condition(cb, id) {\r\n            if (!isFunction(cb)) {\r\n                if (this.debug) warn('[pocket]', `[$condition] must provide callback`)\r\n                return this\r\n            }\r\n            id = !isString(id) ? '' : id\r\n            let selfType = 'PocketSelf'// `ProbeSelf`\r\n            let self = null\r\n            if (id.indexOf(`::`) === 0) { // if specified id is `probeID`\r\n                id = this.selectByTask(id, true)\r\n                id = this.lastProbeID(id)\r\n                selfType = `ProbeSelf`\r\n                if (!id) {\r\n                    if (this.debug) warn('[pocket]', `[$condition] probeID not found`)\r\n                    return this\r\n                }\r\n                // also updates last selector reference\r\n            } else if (this.lastProjectID(id)) selfType = 'PocketSelf' // if specified id is `projectID`\r\n            else {\r\n                if (this.debug) warn('[pocket]', `[$condition] projectID not found`)\r\n                return this \r\n            }\r\n\r\n            if (selfType === 'PocketSelf') self = this\r\n            if (selfType === 'ProbeSelf') self = this.$get(id)\r\n\r\n            if (!self) {\r\n                if (this.debug) warn('[pocket]', `[$condition] no valid self value`)\r\n                return this\r\n            }\r\n            \r\n            const cbDATA = cb.call(self, self) // when using arrow function pass `(self)=>` in callback as well\r\n            if (cbDATA) return cbDATA // if callback has any true data return it, \r\n            else return this // else return self\r\n        }\r\n\r\n        /**\r\n         * @returns last selected projectID\r\n         */\r\n        get $projectID() {\r\n            return this._lastProjectID\r\n        }\r\n\r\n        /**\r\n         * - return last probe status, this is a dynamic Promise, creates new promise every time status is changed, so then it needs to bu called again to get latest update\r\n         * @param {*} probeID \r\n         * @extends probeStatusAsync\r\n         */\r\n        $probeStatusAsync(probeID = '') {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            let lastProbeID = this.lastProbeID(probeID)\r\n            return this.probeStatusAsync(lastProbeID)\r\n        }\r\n        \r\n        /**\r\n         * ### $get\r\n          * - `get probe by 'id::taskName'`\r\n          * - `returns instance`\r\n          *  methods:`{get,all}` props: `{id,data,tasks,status}`\r\n          * @param {*} probeID required, example format: `${payload.id}::taskName`\r\n          * @param {*} self = false optional, in case you want to chain, and access `Probe{}` through `...).d`\r\n          * @extends _get\r\n         */\r\n        $get(probeID, self) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            let lastProbeID = this.lastProbeID(probeID)\r\n            return this._get(lastProbeID, self)\r\n        }\r\n\r\n        /**\r\n         * - return array of Probes matched by ref\r\n         * @param {*} probeRef, required\r\n         * @returns [Probe{},...] array\r\n         */\r\n        $getByRef(probeRef = '') {\r\n            return Object.assign(this.pocket).filter(([id, probe], inx) => probe.ref === probeRef)\r\n        }\r\n       \r\n        /**\r\n         * - as name suggest sets up new new data for Probe/task, it derives from `$update` \r\n         * @param {*} dataFrom required, must specify what to set on Probe{}, example: `dataFrom:{data:'coke',status:'complete',campaign:'cocacola'}`\r\n         * - we should only use `$set` for initialization, this action also calls `clearStoreTransfers`\r\n         * @param {*} probeID required, example format: `${payload.id}::taskName`\r\n         * @extends _set\r\n         */\r\n        $set(dataFrom, probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            let lastProbeID = this.lastProbeID(probeID)\r\n            return this._set(dataFrom, lastProbeID)\r\n        }\r\n\r\n        /**\r\n         * ### $probe\r\n         * - return me as Probe{}, similar as $get(...), although does additional check for instanceOf Probe{}\r\n         * @param {*} probeID \r\n         */\r\n        $probe(probeID = '') {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            let lastProbeID = this.lastProbeID(probeID)\r\n            if (!this.pocket[lastProbeID]) {\r\n                if (this.debug) warn('[pocket]', `[$probe] not found for probeID: ${probeID}`)\r\n                return undefined\r\n            }\r\n\r\n            if (this.pocket[lastProbeID].constructor.name !== 'Probe') {\r\n                if (this.debug) onerror('[pocket]', `[$probe] probeID: ${probeID} is not an instance of Probe{}`)\r\n                return undefined\r\n            }\r\n\r\n            return this.pocket[lastProbeID]\r\n        } \r\n        \r\n        /**\r\n         * update Probe/task, for convenience, so we dont have do this, example: `pc.$get('abc123::grab').status='complete'`\r\n         * @param {*} dataFrom required, must specify what to update on Probe{}, example: `dataFrom:{data:'coke',status:'complete',campaign:'cocacola'}`\r\n         * @param {*} mergeData optional if `true` will merge: `Object.assing({},probe[id].data,mergeData['data'])`\r\n         * @param {*} probeID required, example format: `${payload.id}::taskName`\r\n         * @extends update\r\n         */\r\n        $update(dataFrom, mergeData, probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            let lastProbeID = this.lastProbeID(probeID)\r\n            return this.update(dataFrom, mergeData, lastProbeID)\r\n        }\r\n\r\n        /**\r\n         * ### $select\r\n         * - select current payloadID/project/job by id you are working on\r\n         * @param {*} projectID optional/sensitive, selects new point of reference.\r\n         */\r\n        $select(projectID = '') {\r\n            projectID = !isString(projectID) ? '' : projectID\r\n            this.lastProjectID(projectID) // also updates last selector reference\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * ### $filter\r\n         * - filter works together with `$compute` or standalone when specified `.d` to return filtered `list`\r\n         * @param {*} cb \r\n         * @param {*} projectID \r\n         */\r\n        $filter(cb, projectID) {\r\n            projectID = this.lastProjectID(projectID) // also updates last selector reference\r\n            const returnAs = (val) => {\r\n                this.d = (val || []).filter(z => z.isNONE === undefined)\r\n                return this\r\n            }\r\n\r\n            if (!isFunction(cb)) return returnAs([])\r\n\r\n            if (!this.payloadData[projectID]) {\r\n                if (this.debug) warn('[pocket]', `[$filter] no projectID found`)\r\n                return returnAs(null)\r\n            }\r\n            // when narrowing down $filter.$filter process, lets remember last action\r\n            let probeList = []\r\n            if ((this._lastFilterList[projectID] || []).length) probeList = this._lastFilterList[projectID]\r\n            else {\r\n                this._lastFilterList[projectID] = []\r\n                probeList = this.projectProbeList(projectID)\r\n            }\r\n            probeList.forEach((probe, inx) => {\r\n                if (probe.isNONE) {\r\n                    return\r\n                }\r\n                const matchFound = cb.call(probe, probe)\r\n                if (!matchFound) {\r\n                    this._lastFilterList[projectID] = this._lastFilterList[projectID].filter(z => z.id !== probe.id)\r\n                    this._lastFilterList[projectID].push({ id: probe.id, isNONE: true })\r\n                    return\r\n                }\r\n\r\n                if (matchFound !== undefined && (matchFound === true || matchFound === 1)) {\r\n                    // dont re-add same probe\r\n                    const isNew = this._lastFilterList[projectID].filter((z, i) => (z || {}).id === probe.id).length\r\n\r\n                    if (!isNew) this._lastFilterList[projectID].push(probe)\r\n                    \r\n                } else this._lastFilterList[projectID].push({ id: probe.id, isNONE: true })\r\n            })\r\n            return returnAs(this._lastFilterList[projectID])\r\n        }\r\n\r\n        /**\r\n         * ### $compute\r\n         * - iterate thru each Probe{}/ instance in a callback, and make changes to it\r\n         * - note: you can only compute thru items that are not `complete`\r\n         * @param {*} cb((probe, probeID)=>this/self.data) required\r\n         * @param {*} projectID optional/sensitive, selects new point of reference.\r\n         */\r\n        $compute(cb, projectID = '') {\r\n            projectID = this.lastProjectID(projectID)\r\n            const returnAs = (val) => {\r\n                // delete last filtered list after it was consumed\r\n                if (val) delete this._lastFilterList[projectID]\r\n                this.d = val\r\n                return this\r\n            }\r\n\r\n            if (!isFunction(cb)) {\r\n                if (this.debug) warn('[pocket]', `[$compute] cb must be a function`)\r\n                return returnAs(null)\r\n            }\r\n\r\n            if (!this.payloadData[projectID]) {\r\n                if (this.debug) warn('[pocket]', `[$compute] no project found fo your/last id projectID:${projectID}`)\r\n                return returnAs(null)\r\n            }\r\n\r\n            let lastFilter = (this._lastFilterList[projectID] || [])\r\n            if (lastFilter.length) {\r\n\r\n                // uniq\r\n                this._lastFilterList[projectID] = lastFilter = lastFilter.filter(z => z.isNONE === undefined)\r\n                    .filter(({ id }, i, all) => {\r\n                        return all.filter(_probe => id === _probe.id).length === 1\r\n                    })\r\n                lastFilter.forEach(probe => {\r\n                    // compute method is designed to allow access to each Probe, but we do not want to allow looping thru assets that are already complete           \r\n                    if (probe.status !== 'complete' && probe.status !== 'send') cb.call(probe, probe)\r\n                })\r\n                // finally only return not none list on probes, then clear _lastFilterList\r\n                return returnAs(this._lastFilterList[projectID])\r\n            } else {\r\n              \r\n                this.projectProbeList(projectID).forEach(probe => {\r\n                    // compute method is designed to allow access to each Probe, but we do not want to allow looping thru assets that are already complete           \r\n                    \r\n                    if (probe.status !== 'complete' && probe.status !== 'send') cb.call(probe, probe)\r\n                })\r\n                return returnAs(this.projectProbeList(projectID))\r\n            }\r\n        }\r\n\r\n        /**\r\n         * ### $list\r\n         * - list active Probes{} by project id, should return all assigned probe/tasks regardless of status\r\n         * - returns array[] of active Probe{}/tasks or []\r\n         * @param {*} projectID optional/sensitive, selects new point of reference.\r\n         * @param {*} cb((probe, probeID)=>) optional, when set will loop thru each Probe{} in callback\r\n         * @param {*} type optional, set to `list`, will return latest Probes, that includes if initiated cb and made a few changes\r\n         */\r\n        $list(projectID = '', cb = null, type = 'self') {\r\n            projectID = this.lastProjectID(projectID)\r\n            if (!this.payloadData[projectID]) return []\r\n            const list = () => {\r\n                return Object.entries(this.pocket).reduce((n, [key, val], inx) => {\r\n                    if (val.id.includes(projectID)) n.push(val)\r\n                    return n\r\n                }, [])\r\n            }\r\n            if (isFunction(cb)) {\r\n                this.projectProbeList(projectID).forEach(probe => {\r\n                    cb(probe.all()) // no access to Probe/instance only copy\r\n                })\r\n                if (type === 'self' || !type) {\r\n                    return this\r\n                }\r\n                if (type === 'list') return list()\r\n            } else {\r\n                return list()\r\n            }\r\n        }\r\n\r\n        /**\r\n         * ### $transfer\r\n         * - select data from `fromProbeID` and hold it in `_transferCache`, until `$to(probeID)` is called\r\n         * - warning, action removes `Probe[fromProbeID].data` and overrides it on Probe[probeID].data, only when `$to(probeID)` is called, simple as that!\r\n         * @param {*} fromProbeID optional/sensitive, selects new point of reference.\r\n         */\r\n        $transfer(fromProbeID = '') {\r\n            // allow use of short ref names example: `::cocalola`\r\n            fromProbeID = this.selectByTask(fromProbeID, true)\r\n            fromProbeID = this.lastProbeID(fromProbeID)\r\n            if (!this.pocket[fromProbeID]) {\r\n                if (this.debug) warn('[pocket]', `[$transfer] no Probe{} found for this id fromProbeID:${fromProbeID}`)\r\n                return this\r\n            }\r\n            this.storeTransfers(fromProbeID, copy(this.pocket[fromProbeID]['data']))\r\n            // NOTE needed for extra security to make sure it was called before we can update `$to()`\r\n            this.$transfer_lastID = fromProbeID\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * ### $to\r\n         * - works together with `$transfer`, will transfer `data` from one Probe{} to another\r\n         * if `_transferCache` is set, the cache is cleared.\r\n         * @param {*} toProbeID optional/sensitive, points to Probe{} `data` will be packed, it is not previous reference pointer, but the next.\r\n         * - will only work if `toProbeID` is not yet complete\r\n         * @param {*} pointToThisProbe to stay on the current pointer reference\r\n         * @param {*} maxDelay, keep at minimum! Time between transaction can take place, relates to `fromAverageTimeHasPast` found in `accessLastValidTransfer()`\r\n         */\r\n        $to(toProbeID = '', pointToThisProbe = true, maxDelay = 100) {\r\n\r\n            // allow use of short ref names example: `::cocalola`\r\n            toProbeID = this.selectByTask(toProbeID, pointToThisProbe)\r\n            // if (!keepLastPointerReference) toProbeID = this.lastProbeID(toProbeID)\r\n            if (pointToThisProbe) toProbeID = this.validProbe(toProbeID)\r\n            if (!toProbeID) {\r\n                if (this.debug) warn('[pocket]', `[$to] toProbeID is invalid`)\r\n                return this\r\n            }\r\n            if (!this.pocket[toProbeID]) {\r\n                if (this.debug) warn('[pocket]', `[$to] no Probe{} found for this id toProbeID:${toProbeID}`)\r\n                return this\r\n            }\r\n            if (this.$transfer_lastID) {\r\n                // please note because this can be a delayed transaction, if you send `status=complete`\r\n                // the data will not be updated\r\n                const lastValidTransfer = this.accessLastValidTransfer(maxDelay)\r\n                if (objectSize(lastValidTransfer)) {\r\n                    const { fromProbeID, data } = lastValidTransfer\r\n                    if (this.$transfer_lastID === fromProbeID) {\r\n                        if (this.pocket[toProbeID].status === 'complete' || this.pocket[toProbeID].status === 'send') {\r\n                            if (this.debug) warn('[pocket]', `[$to] cannot transfer since toProbeID: ${toProbeID} is already complete`)\r\n                            this.$transfer_lastID = ''\r\n                            return this\r\n                        }\r\n                        this.pocket[fromProbeID]['data'] = null // from $transfer \r\n                        this.pocket[toProbeID]['data'] = data // $to \r\n                    }\r\n                } else {\r\n                    if (this.debug) warn('[pocket]', `[$to] no last valid transfer found`)\r\n                }\r\n                this.$transfer_lastID = ''\r\n            }\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * ### $of\r\n         * - points to Probe{} be reference\r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $of(probeID = '') {\r\n            // allow use of short ref names example: `::cocalola`\r\n            this.selectByTask(probeID, true)\r\n            return this\r\n        }\r\n\r\n        /**\r\n         * ### $data\r\n         * - returns Object copy of `Probe['data']`\r\n         * @param {*} dataProp optional, if you know what you are asking for example: `{assets:true}`,or `array['assets]`, it has catch error exception, so you wont receive any errors just `null`\r\n         * will return all available matched within our `Probe{}['data]`. Multiples of `dataProp{}/([])/(',')` will return an object, if only one specified, only value will be retured\r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         * @param {*} self optional,if you want to $cached() last data enquiry and return `self` to keep chaining, nice!\r\n         */\r\n        $data(dataProp = null/** {}||[] */, probeID = '', self = false) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return self ? this : undefined\r\n\r\n            // NOTE can provide as an array\r\n            if (isArray(dataProp) && (dataProp || []).length) {\r\n                dataProp = uniq(dataProp).reduce((n, el) => {\r\n                    if (el !== undefined) n[el.trim()] = true\r\n                    return n\r\n                }, {})\r\n            }\r\n\r\n            if (!dataProp || !objectSize(dataProp)) {\r\n                this._$cached_data[probeID] = copy(this.pocket[probeID]['data'])\r\n                return self ? this : this._$cached_data[probeID]\r\n            }\r\n            return this.dataPropSelector(\"data()\", probeID, dataProp, self, copy(this.pocket[probeID]['data']))\r\n        }\r\n\r\n        /**\r\n         * ### cached\r\n         * - grabs last cached `$data(...)` from Probe{}\r\n         * @param {*} dataProp{}/String optional, know what you are asking for example: ` {assets:true}/ or > 'assets,values,somethingElse'`, it has catch error exception, so you wont receive any errors just `null`\r\n         * will return all available matched within our `_$cached_data[probeID]`. Multiples of `dataProp{}/([])/(',')` will return an object, if only one specified, only value will be retured\r\n         * @param {*} probeID \r\n         */\r\n        $cached(dataProp = {}, probeID = '') {\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return undefined\r\n            const hasValue = this._$cached_data[probeID] !== undefined && this._$cached_data[probeID] !== null\r\n            if (!hasValue) return undefined\r\n            // if you provided a string make it an object\r\n            if (isString(dataProp) && (dataProp || '').length) {\r\n                dataProp = uniq(dataProp.trim().replace(/ /gi, '').split(',')).reduce((n, el) => {\r\n                    if (el !== undefined) n[el] = true\r\n                    return n\r\n                }, {})\r\n            }\r\n            // return cached data if its not an object, or undefined\r\n            if (!objectSize(this._$cached_data[probeID]) && hasValue) {\r\n                if (objectSize(dataProp)) return undefined // our cache not an object, but we are asking for dataProp reference, so should return undefined\r\n                else return this._$cached_data[probeID]\r\n            }\r\n            // no selection at all, so just return whats available\r\n            if (!dataProp || !objectSize(dataProp)) {\r\n                return this._$cached_data[probeID] === undefined ? undefined : this._$cached_data[probeID]\r\n            } else return this.dataPropSelector(\"cached()\", probeID, dataProp, false, this._$cached_data[probeID])\r\n        }\r\n\r\n        /**\r\n         * ### $campaign\r\n         * - returns Object copy of `Probe['campaign']` \r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $campaign(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID]['campaign'])\r\n        }\r\n\r\n        /**\r\n         * ### $ref\r\n         * - returns Probe{}.ref\r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $ref(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID]['ref'])\r\n        }\r\n\r\n        /**\r\n        * ### $status\r\n        * - returns Object copy of `Probe['status']` \r\n        * @param {*} probeID optional/sensitive, select new point of reference\r\n        */\r\n        $status(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID]['status'])\r\n        }\r\n\r\n        /**\r\n         * ### $task\r\n         * - returns Object copy of `Probe['task']` \r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $task(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID]['task'])\r\n        }\r\n\r\n        /**\r\n         * ### $task\r\n         * - returns Object copy of `Probe['task']` \r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $error(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID]['error'])\r\n        }\r\n\r\n        /**\r\n         * ### $all\r\n         * - return Object copy of all setters: `{id,status,campaign,task,data}` \r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         */\r\n        $all(probeID) {\r\n            // allow use of short ref names example: `::cocalola`\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            return copy(this.pocket[probeID].all())\r\n        }\r\n\r\n        /**\r\n         * - changes are observed for `[data,status,ref,error,campaign, status:complete]`\r\n         * - when watchProp `status:complete` is selected all copy data is returned in callback\r\n         * @param watchProp specify what property to watch, defaults to `all`, except for `status:complete`\r\n         * @param {*} probeID optional/sensitive, select new point of reference\r\n         * @extends Probe.onChange\r\n         */\r\n        $onChange(cb, watchProp, probeID) {\r\n            if (!this._onChange) {\r\n                if (this.debug) warn('[pocket]', `[$onChange] opts.onChange=true must be enabled to use this feature`)\r\n                return this\r\n            }\r\n            probeID = this.selectByTask(probeID, true)\r\n            if (!this.pocket[probeID]) return null\r\n            this.pocket[probeID].onChange(cb, watchProp)\r\n            return this\r\n        }\r\n\r\n        /** \r\n         * callback initialted of any probe that was completed, unless specificly selected `probeID`\r\n         * @param {Function} `cb((allData,id))=>`\r\n         * @param {*} probeID optional if you only want to listen for changes to specific probe add the id\r\n        */\r\n        $onProbeComplete(cb, probeID) {\r\n            if (!this._onChange) {\r\n                if (this.debug) warn('[pocket]', `[$onChange] opts.onChange=true must be enabled to use this feature`)\r\n                return this\r\n            }\r\n            // only run available onChange for selected probe by id\r\n            if (probeID) {\r\n                probeID = this.selectByTask(probeID, true)\r\n                if (!this.pocket[probeID]) return null\r\n                this.pocket[probeID].onChange(cb, watchProp)\r\n                return this\r\n            }\r\n            else{\r\n                \r\n                let projectID = this.lastProjectID()           \r\n                let probeList =  this.projectProbeList(projectID)\r\n\r\n                /** \r\n                 * callback any probe that completed due process\r\n                */\r\n                probeList.forEach(probe=>{\r\n                    probe.onChange(cb, 'status:complete')\r\n                })\r\n\r\n                return this\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n"],"sourceRoot":""}